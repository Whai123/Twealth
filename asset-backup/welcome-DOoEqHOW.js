import{r as T,q as Z,ae as X,y as ne,L as R,M as $,N as A,z as W,B as G,j as e,af as ie,K as ee,I as j,Z as Q,$ as w,a0 as y,a1 as k,a2 as S,a3 as t,H as m,ad as K,ag as oe,a5 as u,ah as de,p as ce,ai as ue,_ as xe}from"./index-NNgTI0RQ.js";import{F as z,a as n,b as i,c as o,d,e as c,f as Y}from"./form-DeqjsDZl.js";import{S as se}from"./sparkles-yxnOzOhM.js";import{C as J}from"./chevron-left-BNE8GRv6.js";import{l as E}from"./5-removebg-preview_1761748275134-Del8-H30.js";import{A as H}from"./arrow-right-l9D0Ocf3.js";import{Z as me}from"./zap-jVm97dbR.js";const he=A({fullName:u().min(1,"Name is required"),incomeRange:u().min(1,"Please select your income range"),riskTolerance:u().min(1,"Please select your risk tolerance")}),be=A({savingsTarget:u().min(1,"Savings target is required"),savingsTimeline:u().min(1,"Please select a timeline"),financialPriorities:de(u()).min(1,"Select at least one priority")}),ge=A({notificationFrequency:u().min(1,"Please select a frequency"),adviceStyle:u().min(1,"Please select a style"),preferredLanguage:u().min(1,"Please select a language")});function pe({onComplete:L}){const[b,x]=T.useState(1),[P,_]=T.useState(null),[g,C]=T.useState(null),[F,M]=T.useState(!1),{toast:D}=Z(),q=X(),{data:l,isLoading:p}=ne({queryKey:["/api/user-preferences"]}),v=R({resolver:$(he),defaultValues:{fullName:"",incomeRange:"",riskTolerance:""}}),f=R({resolver:$(be),defaultValues:{savingsTarget:"",savingsTimeline:"",financialPriorities:[]}}),N=R({resolver:$(ge),defaultValues:{notificationFrequency:"weekly",adviceStyle:"conversational",preferredLanguage:"en"}});T.useEffect(()=>{var s,r;if(!p&&!F){const a=(l==null?void 0:l.onboardingData)||{},h=(l==null?void 0:l.onboardingStep)||1;a&&Object.keys(a).length>0&&((a.fullName||a.incomeRange||a.riskTolerance)&&(v.reset({fullName:a.fullName||"",incomeRange:a.incomeRange||"",riskTolerance:a.riskTolerance||""}),_({fullName:a.fullName||"",incomeRange:a.incomeRange||"",riskTolerance:a.riskTolerance||""})),(a.savingsTarget||a.savingsTimeline||a.financialPriorities)&&(f.reset({savingsTarget:((s=a.savingsTarget)==null?void 0:s.toString())||"",savingsTimeline:a.savingsTimeline||"",financialPriorities:a.financialPriorities||[]}),C({savingsTarget:((r=a.savingsTarget)==null?void 0:r.toString())||"",savingsTimeline:a.savingsTimeline||"",financialPriorities:a.financialPriorities||[]})),(a.notificationFrequency||a.adviceStyle||a.preferredLanguage)&&N.reset({notificationFrequency:a.notificationFrequency||"weekly",adviceStyle:a.adviceStyle||"conversational",preferredLanguage:a.preferredLanguage||"en"}),x(h)),M(!0)}},[p,F,l,v,f,N]);const I=W({mutationFn:async s=>(await G("PUT","/api/user-preferences/onboarding",{onboardingStep:s.step,onboardingData:s.data})).json(),onSuccess:()=>{q.invalidateQueries({queryKey:["/api/user-preferences"]})}}),B=W({mutationFn:async s=>(await G("PUT","/api/user-preferences",{hasCompletedOnboarding:!0,onboardingStep:null,onboardingData:s,language:s.preferredLanguage||"en"})).json(),onSuccess:()=>{q.invalidateQueries({queryKey:["/api/user-preferences"]}),D({title:"Welcome to Twealth!",description:"Your profile has been set up successfully."}),L()}}),te=s=>{_(s),I.mutate({step:2,data:s}),x(2)},ae=s=>{C(s),I.mutate({step:3,data:{...P,...s}}),x(3)},le=s=>{const r={...P,...g,...s,savingsTarget:g?parseFloat(g.savingsTarget):0};B.mutate(r)},U=[{number:1,title:"Your Profile",icon:ie},{number:2,title:"Financial Goals",icon:ee},{number:3,title:"AI Preferences",icon:se}];return p||!F?e.jsx("div",{className:"w-full max-w-xl mx-auto",children:e.jsxs("div",{className:"bg-gradient-to-b from-slate-900 to-slate-900/80 border border-slate-700/80 rounded-3xl p-8 shadow-2xl backdrop-blur-sm",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Loading your profile..."}),e.jsx("p",{className:"text-slate-400",children:"Please wait a moment"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-14 bg-slate-800/80 rounded-2xl animate-pulse"}),e.jsx("div",{className:"h-14 bg-slate-800/80 rounded-2xl animate-pulse"}),e.jsx("div",{className:"h-14 bg-slate-800/80 rounded-2xl animate-pulse"})]})]})}):e.jsxs("div",{className:"w-full max-w-xl mx-auto",children:[e.jsx("div",{className:"mb-10",children:e.jsx("div",{className:"flex items-center justify-center gap-2 sm:gap-4",children:U.map((s,r)=>{const a=s.icon,h=b>s.number,V=b===s.number;return e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`
                      w-12 h-12 sm:w-14 sm:h-14 rounded-2xl flex items-center justify-center mb-2 transition-all duration-500 ease-out
                      ${h?"bg-gradient-to-br from-green-500 to-green-600 text-white shadow-lg shadow-green-500/30":""}
                      ${V?"bg-gradient-to-br from-blue-500 to-blue-600 text-white ring-4 ring-blue-500/30 shadow-lg shadow-blue-500/30 scale-110":""}
                      ${!h&&!V?"bg-slate-800 text-slate-500 border border-slate-700":""}
                    `,"data-testid":`step-indicator-${s.number}`,children:h?e.jsx(j,{className:"h-6 w-6"}):e.jsx(a,{className:"h-6 w-6"})}),e.jsx("span",{className:`text-xs sm:text-sm font-medium transition-colors ${V?"text-white":h?"text-green-400":"text-slate-500"}`,children:s.title})]}),r<U.length-1&&e.jsx("div",{className:`w-12 sm:w-20 h-1 mx-3 sm:mx-4 rounded-full transition-all duration-500 ${h?"bg-gradient-to-r from-green-500 to-green-400":"bg-slate-800"}`})]},s.number)})})}),b===1&&e.jsxs("div",{className:"bg-gradient-to-b from-slate-900 to-slate-900/80 border border-slate-700/80 rounded-3xl p-7 sm:p-9 shadow-2xl backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Tell us about yourself"}),e.jsx("p",{className:"text-slate-400",children:"Help us personalize your financial guidance"})]}),e.jsx(z,{...v,children:e.jsxs("form",{onSubmit:v.handleSubmit(te),className:"space-y-6",children:[e.jsx(n,{control:v.control,name:"fullName",render:({field:s})=>e.jsxs(i,{children:[e.jsx(o,{className:"text-slate-200 text-sm font-medium",children:"Full Name"}),e.jsx(d,{children:e.jsx(Q,{placeholder:"John Doe",...s,"data-testid":"input-full-name",className:"h-14 bg-slate-800/80 border-slate-600 text-white placeholder:text-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 rounded-2xl text-base transition-all duration-200"})}),e.jsx(c,{className:"text-red-400"})]})}),e.jsx(n,{control:v.control,name:"incomeRange",render:({field:s})=>e.jsxs(i,{children:[e.jsx(o,{className:"text-slate-200 text-sm font-medium",children:"Annual Income Range"}),e.jsxs(w,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(d,{children:e.jsx(y,{"data-testid":"select-income-range",className:"h-14 bg-slate-800/80 border-slate-600 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 rounded-2xl text-base",children:e.jsx(k,{placeholder:"Select your income range"})})}),e.jsxs(S,{className:"bg-slate-800 border-slate-600 rounded-xl",children:[e.jsx(t,{value:"under_30k",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Under $30,000"}),e.jsx(t,{value:"30k-60k",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"$30,000 - $60,000"}),e.jsx(t,{value:"60k-100k",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"$60,000 - $100,000"}),e.jsx(t,{value:"100k-200k",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"$100,000 - $200,000"}),e.jsx(t,{value:"over_200k",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Over $200,000"})]})]}),e.jsx(Y,{className:"text-slate-500 text-sm mt-2",children:"This helps us provide appropriate recommendations"}),e.jsx(c,{className:"text-red-400"})]})}),e.jsx(n,{control:v.control,name:"riskTolerance",render:({field:s})=>e.jsxs(i,{children:[e.jsx(o,{className:"text-slate-200 text-sm font-medium",children:"Risk Tolerance"}),e.jsxs(w,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(d,{children:e.jsx(y,{"data-testid":"select-risk-tolerance",className:"h-14 bg-slate-800/80 border-slate-600 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 rounded-2xl text-base",children:e.jsx(k,{placeholder:"How comfortable are you with risk?"})})}),e.jsxs(S,{className:"bg-slate-800 border-slate-600 rounded-xl",children:[e.jsx(t,{value:"conservative",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Conservative - Prefer safe investments"}),e.jsx(t,{value:"moderate",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Moderate - Balance safety and growth"}),e.jsx(t,{value:"aggressive",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Aggressive - Higher risk for returns"})]})]}),e.jsx(c,{className:"text-red-400"})]})}),e.jsx("div",{className:"flex justify-end pt-6",children:e.jsxs(m,{type:"submit",className:"h-14 px-10 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-semibold rounded-2xl shadow-lg shadow-blue-600/25 hover:shadow-xl hover:shadow-blue-500/30 transition-all duration-300","data-testid":"button-next-step-1",disabled:I.isPending,children:["Continue",e.jsx(K,{className:"ml-2 h-5 w-5"})]})})]})})]}),b===2&&e.jsxs("div",{className:"bg-gradient-to-b from-slate-900 to-slate-900/80 border border-slate-700/80 rounded-3xl p-7 sm:p-9 shadow-2xl backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Your Financial Goals"}),e.jsx("p",{className:"text-slate-400",children:"What are you working towards?"})]}),e.jsx(z,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(ae),className:"space-y-6",children:[e.jsx(n,{control:f.control,name:"savingsTarget",render:({field:s})=>e.jsxs(i,{children:[e.jsx(o,{className:"text-slate-200 text-sm font-medium",children:"Savings Target"}),e.jsx(d,{children:e.jsx(Q,{type:"number",placeholder:"10000",...s,"data-testid":"input-savings-target",className:"h-14 bg-slate-800/80 border-slate-600 text-white placeholder:text-slate-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 rounded-2xl text-base transition-all duration-200"})}),e.jsx(Y,{className:"text-slate-500 text-sm mt-2",children:"How much would you like to save? (in your local currency)"}),e.jsx(c,{className:"text-red-400"})]})}),e.jsx(n,{control:f.control,name:"savingsTimeline",render:({field:s})=>e.jsxs(i,{children:[e.jsx(o,{className:"text-slate-200 text-sm font-medium",children:"Timeline"}),e.jsxs(w,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(d,{children:e.jsx(y,{"data-testid":"select-savings-timeline",className:"h-14 bg-slate-800/80 border-slate-600 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 rounded-2xl text-base",children:e.jsx(k,{placeholder:"When do you want to reach your goal?"})})}),e.jsxs(S,{className:"bg-slate-800 border-slate-600 rounded-xl",children:[e.jsx(t,{value:"3months",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"3 months"}),e.jsx(t,{value:"6months",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"6 months"}),e.jsx(t,{value:"1year",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"1 year"}),e.jsx(t,{value:"3years",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"3 years"}),e.jsx(t,{value:"5years+",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"5+ years"})]})]}),e.jsx(c,{className:"text-red-400"})]})}),e.jsx(n,{control:f.control,name:"financialPriorities",render:()=>e.jsxs(i,{children:[e.jsx(o,{className:"text-slate-200 text-sm font-medium",children:"Financial Priorities"}),e.jsx("p",{className:"text-slate-500 text-sm mb-4",children:"Select all that apply"}),e.jsx("div",{className:"space-y-3",children:[{id:"emergency_fund",label:"Build Emergency Fund"},{id:"retirement",label:"Plan for Retirement"},{id:"debt_payoff",label:"Pay Off Debt"},{id:"investment",label:"Invest for Growth"},{id:"major_purchase",label:"Save for Major Purchase"}].map(s=>e.jsx(n,{control:f.control,name:"financialPriorities",render:({field:r})=>{var a;return e.jsxs(i,{className:"flex items-center space-x-4 space-y-0 p-4 bg-slate-800/50 rounded-xl border border-slate-700/50 hover:border-slate-600 transition-colors cursor-pointer group",children:[e.jsx(d,{children:e.jsx(oe,{checked:(a=r.value)==null?void 0:a.includes(s.id),onCheckedChange:h=>{const V=h?[...r.value||[],s.id]:(r.value||[]).filter(re=>re!==s.id);r.onChange(V)},"data-testid":`checkbox-priority-${s.id}`,className:"h-6 w-6 border-2 border-slate-500 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600 rounded-lg transition-all"})}),e.jsx(o,{className:"font-normal text-slate-200 cursor-pointer text-base group-hover:text-white transition-colors",children:s.label})]})}},s.id))}),e.jsx(c,{className:"text-red-400"})]})}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsxs(m,{type:"button",variant:"ghost",onClick:()=>x(1),className:"h-14 px-8 text-slate-300 hover:text-white hover:bg-slate-800/50 rounded-2xl transition-all duration-200","data-testid":"button-back-step-2",children:[e.jsx(J,{className:"mr-2 h-5 w-5"}),"Back"]}),e.jsxs(m,{type:"submit",className:"h-14 px-10 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-semibold rounded-2xl shadow-lg shadow-blue-600/25 hover:shadow-xl hover:shadow-blue-500/30 transition-all duration-300","data-testid":"button-next-step-2",disabled:I.isPending,children:["Continue",e.jsx(K,{className:"ml-2 h-5 w-5"})]})]})]})})]}),b===3&&e.jsxs("div",{className:"bg-gradient-to-b from-slate-900 to-slate-900/80 border border-slate-700/80 rounded-3xl p-7 sm:p-9 shadow-2xl backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Customize Your AI Assistant"}),e.jsx("p",{className:"text-slate-400",children:"How would you like your AI to help you?"})]}),e.jsx(z,{...N,children:e.jsxs("form",{onSubmit:N.handleSubmit(le),className:"space-y-6",children:[e.jsx(n,{control:N.control,name:"notificationFrequency",render:({field:s})=>e.jsxs(i,{children:[e.jsx(o,{className:"text-slate-200 text-sm font-medium",children:"Notification Frequency"}),e.jsxs(w,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(d,{children:e.jsx(y,{"data-testid":"select-notification-frequency",className:"h-14 bg-slate-800/80 border-slate-600 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 rounded-2xl text-base",children:e.jsx(k,{})})}),e.jsxs(S,{className:"bg-slate-800 border-slate-600 rounded-xl",children:[e.jsx(t,{value:"daily",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Daily insights"}),e.jsx(t,{value:"weekly",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Weekly summaries"}),e.jsx(t,{value:"monthly",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Monthly reports"}),e.jsx(t,{value:"never",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Only when I ask"})]})]}),e.jsx(c,{className:"text-red-400"})]})}),e.jsx(n,{control:N.control,name:"adviceStyle",render:({field:s})=>e.jsxs(i,{children:[e.jsx(o,{className:"text-slate-200 text-sm font-medium",children:"Advice Style"}),e.jsxs(w,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(d,{children:e.jsx(y,{"data-testid":"select-advice-style",className:"h-14 bg-slate-800/80 border-slate-600 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 rounded-2xl text-base",children:e.jsx(k,{})})}),e.jsxs(S,{className:"bg-slate-800 border-slate-600 rounded-xl",children:[e.jsx(t,{value:"detailed",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Detailed analysis with numbers"}),e.jsx(t,{value:"concise",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Concise actionable points"}),e.jsx(t,{value:"conversational",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Conversational and friendly"})]})]}),e.jsx(c,{className:"text-red-400"})]})}),e.jsx(n,{control:N.control,name:"preferredLanguage",render:({field:s})=>e.jsxs(i,{children:[e.jsx(o,{className:"text-slate-200 text-sm font-medium",children:"Preferred Language"}),e.jsxs(w,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(d,{children:e.jsx(y,{"data-testid":"select-preferred-language",className:"h-14 bg-slate-800/80 border-slate-600 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 rounded-2xl text-base",children:e.jsx(k,{})})}),e.jsxs(S,{className:"bg-slate-800 border-slate-600 rounded-xl max-h-[280px]",children:[e.jsx(t,{value:"en",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"English"}),e.jsx(t,{value:"es",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Espanol"}),e.jsx(t,{value:"ar",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Arabic"}),e.jsx(t,{value:"hi",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Hindi"}),e.jsx(t,{value:"id",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Bahasa Indonesia"}),e.jsx(t,{value:"ms",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Bahasa Melayu"}),e.jsx(t,{value:"pt",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Portugues"}),e.jsx(t,{value:"th",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Thai"}),e.jsx(t,{value:"tl",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Tagalog"}),e.jsx(t,{value:"tr",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Turkish"}),e.jsx(t,{value:"vi",className:"text-white focus:bg-slate-700 rounded-lg py-3",children:"Vietnamese"})]})]}),e.jsx(c,{className:"text-red-400"})]})}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsxs(m,{type:"button",variant:"ghost",onClick:()=>x(2),className:"h-14 px-8 text-slate-300 hover:text-white hover:bg-slate-800/50 rounded-2xl transition-all duration-200","data-testid":"button-back-step-3",children:[e.jsx(J,{className:"mr-2 h-5 w-5"}),"Back"]}),e.jsxs(m,{type:"submit",className:"h-14 px-10 bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 text-white font-semibold rounded-2xl shadow-lg shadow-green-600/25 hover:shadow-xl hover:shadow-green-500/30 transition-all duration-300","data-testid":"button-complete-onboarding",disabled:B.isPending,children:[B.isPending?"Finishing...":"Complete Setup",e.jsx(j,{className:"ml-2 h-5 w-5"})]})]})]})})]})]})}const fe=A({fullName:u().min(1,"Please enter your name"),currency:u().min(1,"Please select your currency")});function O(){return e.jsxs("div",{className:"absolute inset-0 overflow-hidden","aria-hidden":"true",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950"}),e.jsx("div",{className:"absolute inset-0 opacity-60",style:{background:`
            radial-gradient(ellipse 80% 50% at 20% 40%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
            radial-gradient(ellipse 60% 40% at 80% 60%, rgba(99, 102, 241, 0.12) 0%, transparent 50%),
            radial-gradient(ellipse 50% 30% at 40% 80%, rgba(37, 99, 235, 0.1) 0%, transparent 50%),
            radial-gradient(ellipse 40% 50% at 70% 20%, rgba(59, 130, 246, 0.08) 0%, transparent 50%)
          `}}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-30 motion-safe:animate-[meshFloat_20s_ease-in-out_infinite]",style:{background:`
            radial-gradient(circle at 30% 20%, rgba(59, 130, 246, 0.2) 0%, transparent 25%),
            radial-gradient(circle at 70% 80%, rgba(99, 102, 241, 0.15) 0%, transparent 25%)
          `}}),e.jsx("div",{className:"absolute top-1/4 -left-20 w-80 h-80 bg-blue-600/8 rounded-full blur-3xl motion-safe:animate-[gentlePulse_8s_ease-in-out_infinite]"}),e.jsx("div",{className:"absolute bottom-1/4 -right-20 w-80 h-80 bg-indigo-600/8 rounded-full blur-3xl motion-safe:animate-[gentlePulse_8s_ease-in-out_infinite_2s]"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-r from-blue-600/5 to-indigo-600/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:`
            linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px)
          `,backgroundSize:"60px 60px"}})]})}function Ce(){const[,L]=ce(),[b,x]=T.useState("choice"),{toast:P}=Z(),_=X(),g=R({resolver:$(fe),defaultValues:{fullName:"",currency:"USD"}}),C=W({mutationFn:async l=>G("PUT","/api/user-preferences",{onboardingData:{fullName:l.fullName},currency:l.currency,hasCompletedOnboarding:!0}),onSuccess:()=>{_.invalidateQueries({queryKey:["/api/user-preferences"]}),_.invalidateQueries({queryKey:["/api/users/me"]}),P({title:"Welcome to Twealth!",description:"Your preferences have been saved. Let's get started!"}),L("/")},onError:()=>{P({title:"Something went wrong",description:"Please try again.",variant:"destructive"})}}),F=()=>{L("/")},M=l=>{C.mutate(l)},D=l=>{l.preventDefault(),l.stopPropagation(),x("express")},q=l=>{l.preventDefault(),l.stopPropagation(),x("full")};return b==="express"?e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx(O,{}),e.jsxs("div",{className:"w-full max-w-md mx-auto relative z-10",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-500/30 blur-xl rounded-full scale-150 motion-safe:animate-[gentlePulse_4s_ease-in-out_infinite]"}),e.jsx("img",{src:E,alt:"Twealth",className:"w-12 h-12 relative drop-shadow-[0_0_15px_rgba(59,130,246,0.3)]"})]}),e.jsx("span",{className:"text-2xl font-semibold text-white tracking-tight",children:"Twealth"})]}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-3 tracking-tight",children:"Quick Setup"}),e.jsx("p",{className:"text-slate-400 text-lg",children:"Just two quick questions to get started"})]}),e.jsx("div",{className:"bg-gradient-to-b from-slate-900 to-slate-900/80 border border-slate-700/80 rounded-3xl p-8 backdrop-blur-sm",children:e.jsx(z,{...g,children:e.jsxs("form",{onSubmit:g.handleSubmit(M),className:"space-y-6",children:[e.jsx(n,{control:g.control,name:"fullName",render:({field:l})=>e.jsxs(i,{children:[e.jsx(o,{className:"text-slate-200",children:"What should we call you?"}),e.jsx(d,{children:e.jsx(Q,{placeholder:"Enter your name",className:"bg-slate-800/50 border-slate-600 text-white placeholder:text-slate-500 h-12","data-testid":"input-name",...l})}),e.jsx(c,{})]})}),e.jsx(n,{control:g.control,name:"currency",render:({field:l})=>e.jsxs(i,{children:[e.jsx(o,{className:"text-slate-200",children:"Preferred currency"}),e.jsxs(w,{onValueChange:l.onChange,value:l.value,children:[e.jsx(d,{children:e.jsx(y,{className:"bg-slate-800/50 border-slate-600 text-white h-12","data-testid":"select-currency",children:e.jsx(k,{placeholder:"Select currency"})})}),e.jsx(S,{className:"bg-slate-800 border-slate-600 max-h-[300px]",children:ue().map(p=>e.jsxs(t,{value:p.code,className:"text-white hover:bg-slate-700",children:[p.code," - ",p.name]},p.code))})]}),e.jsx(c,{})]})}),e.jsx(m,{type:"submit",disabled:C.isPending,className:"w-full h-14 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-semibold rounded-2xl transition-all duration-300 shadow-lg shadow-blue-600/25 hover:shadow-xl hover:shadow-blue-500/30 text-base mt-4","data-testid":"button-submit-express",children:C.isPending?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"mr-2 h-5 w-5 animate-spin"}),"Setting up..."]}):e.jsxs(e.Fragment,{children:["Get Started",e.jsx(H,{className:"ml-2 h-5 w-5"})]})})]})})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(m,{variant:"ghost",onClick:()=>x("choice"),className:"text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all duration-200","data-testid":"button-back-to-choice",children:"Back to options"})})]})]}):b==="full"?e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx(O,{}),e.jsxs("div",{className:"w-full max-w-3xl mx-auto relative z-10",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-500/30 blur-xl rounded-full scale-150 motion-safe:animate-[gentlePulse_4s_ease-in-out_infinite]"}),e.jsx("img",{src:E,alt:"Twealth",className:"w-12 h-12 relative drop-shadow-[0_0_15px_rgba(59,130,246,0.3)]"})]}),e.jsx("span",{className:"text-2xl font-semibold text-white tracking-tight",children:"Twealth"})]}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-3 tracking-tight",children:"Let's personalize your experience"}),e.jsx("p",{className:"text-slate-400 text-lg",children:"This will only take a minute"})]}),e.jsx(pe,{onComplete:F}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(m,{variant:"ghost",onClick:()=>x("choice"),className:"text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all duration-200","data-testid":"button-back-to-choice",children:"Back to options"})})]})]}):e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 relative overflow-hidden",children:[e.jsx(O,{}),e.jsxs("div",{className:"w-full max-w-4xl mx-auto relative z-10",children:[e.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-500/40 blur-xl rounded-full scale-150 motion-safe:animate-[gentlePulse_4s_ease-in-out_infinite]"}),e.jsx("div",{className:"absolute inset-0 bg-indigo-500/20 blur-2xl rounded-full scale-200 motion-safe:animate-[gentlePulse_6s_ease-in-out_infinite_1s]"}),e.jsx("img",{src:E,alt:"Twealth",className:"w-14 h-14 relative drop-shadow-[0_0_20px_rgba(59,130,246,0.4)]"})]}),e.jsx("span",{className:"text-3xl font-semibold text-white tracking-tight drop-shadow-[0_0_30px_rgba(59,130,246,0.2)]",children:"Twealth"})]}),e.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-4 tracking-tight",children:e.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-white bg-clip-text text-transparent drop-shadow-[0_0_40px_rgba(59,130,246,0.3)]",children:"Welcome to Twealth"})}),e.jsx("p",{className:"text-xl text-slate-400 max-w-md mx-auto",children:"Choose how you'd like to get started"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"relative group cursor-pointer pt-5",onClick:D,"data-testid":"card-express-start",children:[e.jsx("div",{className:"absolute top-0 left-6 z-10",children:e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-1.5 bg-gradient-to-r from-blue-600 to-blue-500 text-white text-xs font-semibold rounded-full shadow-lg shadow-blue-600/30 border border-blue-400/20",children:[e.jsx(se,{className:"w-3.5 h-3.5"}),"Recommended"]})}),e.jsxs("div",{className:"h-full bg-gradient-to-b from-slate-900 to-slate-900/80 border border-slate-700/80 rounded-3xl p-7 sm:p-9 pt-10 transition-all duration-300 group-hover:border-blue-500/70 group-hover:shadow-2xl group-hover:shadow-blue-500/20 group-hover:-translate-y-1 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-5",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-600/20 to-blue-700/20 rounded-2xl border border-blue-500/20 shadow-inner",children:e.jsx(me,{className:"h-7 w-7 text-blue-400"})}),e.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Express Start"})]}),e.jsx("p",{className:"text-slate-400 mb-7 text-base",children:"Get started in seconds with smart defaults"}),e.jsxs("ul",{className:"space-y-4 mb-9",children:[e.jsxs("li",{className:"flex items-center gap-4 text-slate-200",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br from-blue-600/30 to-blue-700/20 flex items-center justify-center border border-blue-500/30",children:e.jsx(j,{className:"w-3.5 h-3.5 text-blue-400"})}),e.jsx("span",{className:"text-base",children:"Just name & currency"})]}),e.jsxs("li",{className:"flex items-center gap-4 text-slate-200",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br from-blue-600/30 to-blue-700/20 flex items-center justify-center border border-blue-500/30",children:e.jsx(j,{className:"w-3.5 h-3.5 text-blue-400"})}),e.jsx("span",{className:"text-base",children:"AI learns as you use the app"})]}),e.jsxs("li",{className:"flex items-center gap-4 text-slate-200",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br from-blue-600/30 to-blue-700/20 flex items-center justify-center border border-blue-500/30",children:e.jsx(j,{className:"w-3.5 h-3.5 text-blue-400"})}),e.jsx("span",{className:"text-base",children:"Customize anytime in settings"})]})]}),e.jsxs(m,{onClick:D,className:"w-full h-14 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-semibold rounded-2xl transition-all duration-300 shadow-lg shadow-blue-600/25 hover:shadow-xl hover:shadow-blue-500/30 text-base","data-testid":"button-express-start",children:["Start Now",e.jsx(H,{className:"ml-2 h-5 w-5"})]})]})]}),e.jsx("div",{className:"relative group cursor-pointer pt-5",onClick:q,"data-testid":"card-guided-setup",children:e.jsxs("div",{className:"h-full bg-gradient-to-b from-slate-900 to-slate-900/80 border border-slate-700/80 rounded-3xl p-7 sm:p-9 pt-10 transition-all duration-300 group-hover:border-slate-500/70 group-hover:shadow-2xl group-hover:shadow-slate-500/10 group-hover:-translate-y-1 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-5",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-slate-700/50 to-slate-800/50 rounded-2xl border border-slate-600/30 shadow-inner",children:e.jsx(ee,{className:"h-7 w-7 text-slate-300"})}),e.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Guided Setup"})]}),e.jsx("p",{className:"text-slate-400 mb-7 text-base",children:"Personalize your experience step by step"}),e.jsxs("ul",{className:"space-y-4 mb-9",children:[e.jsxs("li",{className:"flex items-center gap-4 text-slate-200",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br from-slate-700/50 to-slate-800/30 flex items-center justify-center border border-slate-600/40",children:e.jsx(j,{className:"w-3.5 h-3.5 text-slate-400"})}),e.jsx("span",{className:"text-base",children:"Set your financial goals"})]}),e.jsxs("li",{className:"flex items-center gap-4 text-slate-200",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br from-slate-700/50 to-slate-800/30 flex items-center justify-center border border-slate-600/40",children:e.jsx(j,{className:"w-3.5 h-3.5 text-slate-400"})}),e.jsx("span",{className:"text-base",children:"Configure AI preferences"})]}),e.jsxs("li",{className:"flex items-center gap-4 text-slate-200",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br from-slate-700/50 to-slate-800/30 flex items-center justify-center border border-slate-600/40",children:e.jsx(j,{className:"w-3.5 h-3.5 text-slate-400"})}),e.jsx("span",{className:"text-base",children:"Get tailored insights faster"})]})]}),e.jsxs(m,{onClick:q,variant:"outline",className:"w-full h-14 bg-transparent border-2 border-slate-600 text-white hover:bg-slate-800/50 hover:border-slate-500 font-semibold rounded-2xl transition-all duration-300 text-base","data-testid":"button-guided-setup",children:["Customize Now",e.jsx(H,{className:"ml-2 h-5 w-5"})]})]})})]}),e.jsx("div",{className:"mt-14 text-center",children:e.jsx("p",{className:"text-base text-slate-500",children:"Join thousands of users building their financial future with AI"})})]})]})}export{Ce as default};
