import{r as x,bh as Me,j as e,bi as Ue,bA as Ee,bk as C,bj as K,bg as V,bB as Te,bC as me,bm as Fe,bl as Le,b1 as Be,n as L,s as se,aj as Ve,t as ue,w as H,S as B,x as Y,z as _e,a as $e,u as He,g as _,a2 as T,V as w,Y as G,_ as Ye,o as ie,q as oe,W as Ke,v as Oe,C as W,B as ze,A as Qe,P as qe}from"./index-B1iCb0U8.js";import{B as P}from"./badge-BLQt1mrv.js";import{C as We}from"./clock-D17WIfTi.js";import{Z as F}from"./zap-Dg1ivvH7.js";import{S as Ge}from"./shield-DjyqvyHP.js";const xe={USD:{code:"USD",name:"US Dollar",symbol:"$",decimals:2},THB:{code:"THB",name:"Thai Baht",symbol:"฿",decimals:2},EUR:{code:"EUR",name:"Euro",symbol:"€",decimals:2},IDR:{code:"IDR",name:"Indonesian Rupiah",symbol:"Rp",decimals:0},INR:{code:"INR",name:"Indian Rupee",symbol:"₹",decimals:2},BRL:{code:"BRL",name:"Brazilian Real",symbol:"R$",decimals:2},MXN:{code:"MXN",name:"Mexican Peso",symbol:"$",decimals:2},GBP:{code:"GBP",name:"British Pound",symbol:"£",decimals:2},JPY:{code:"JPY",name:"Japanese Yen",symbol:"¥",decimals:0},CAD:{code:"CAD",name:"Canadian Dollar",symbol:"C$",decimals:2},AUD:{code:"AUD",name:"Australian Dollar",symbol:"A$",decimals:2},VND:{code:"VND",name:"Vietnamese Dong",symbol:"₫",decimals:0},PHP:{code:"PHP",name:"Philippine Peso",symbol:"₱",decimals:2},MYR:{code:"MYR",name:"Malaysian Ringgit",symbol:"RM",decimals:2},TRY:{code:"TRY",name:"Turkish Lira",symbol:"₺",decimals:2}};let X={USD:1,THB:33.5,EUR:.85,IDR:15200,INR:83.1,BRL:5.2,MXN:18,GBP:.78,JPY:150,CAD:1.35,AUD:1.5,VND:24e3,PHP:56,MYR:4.65,TRY:29.5},le=0,ce=!1;const Xe=60*60*1e3;async function Je(){if(!(Date.now()-le<Xe))try{const t=await fetch("/api/currency/rates");if(t.ok){const s=await t.json();X=s.rates,le=Date.now(),ce=!0,console.log("Exchange rates updated:",s.lastUpdated)}}catch{ce=!1,console.warn("Failed to fetch live exchange rates, using estimates")}}Je();function Ze(t,s,r){return s===r?t:t/X[s]*X[r]}function he(t,s="USD",r={}){const{showSymbol:n=!0,compact:a=!1,locale:o="en-US"}=r,i=xe[s];if(!i)return console.warn(`Unknown currency code: ${s}`),t.toString();const d=new Intl.NumberFormat(o,{style:"currency",currency:s,minimumFractionDigits:i.decimals,maximumFractionDigits:i.decimals,notation:a?"compact":"standard"});return n?d.format(t):d.format(t).replace(/[^\d.,\s-]/g,"").trim()}function et(t,s){const r=xe[s];if(!r)throw new Error(`Unsupported currency: ${s}`);let n=Ze(t,"USD",s),a=!1,o;const i={IDR:.6,VND:.6,INR:.65,PHP:.7,BRL:.7,MYR:.75,MXN:.75,THB:.8,TRY:.85};return i[s]&&(o=n,n=n*i[s],a=!0),n=tt(n,s),{amount:n,formatted:he(n,s),currency:r,isDiscounted:a,originalAmount:o}}function tt(t,s){const r={THB:a=>Math.round(a/10)*10,IDR:a=>Math.round(a/1e3)*1e3,VND:a=>Math.round(a/1e3)*1e3,INR:a=>Math.round(a/10)*10,PHP:a=>Math.round(a),BRL:a=>Math.round(a*2)/2,MYR:a=>Math.round(a*2)/2,MXN:a=>Math.round(a),TRY:a=>Math.round(a),JPY:a=>Math.round(a/10)*10,default:a=>Math.round(a*100)/100};return(r[s]||r.default)(t)}var pe=["PageUp","PageDown"],ge=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},I="Slider",[J,st,at]=Ee(I),[be]=Ue(I,[at]),[rt,O]=be(I),ye=x.forwardRef((t,s)=>{const{name:r,min:n=0,max:a=100,step:o=1,orientation:i="horizontal",disabled:d=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:p,onValueChange:l=()=>{},onValueCommit:m=()=>{},inverted:h=!1,form:j,...g}=t,b=x.useRef(new Set),f=x.useRef(0),v=i==="horizontal"?nt:it,[y=[],M]=Me({prop:p,defaultProp:u,onChange:N=>{var D;(D=[...b.current][f.current])==null||D.focus(),l(N)}}),z=x.useRef(y);function Q(N){const S=mt(y,N);U(N,S)}function Ce(N){U(N,f.current)}function Ie(){const N=z.current[f.current];y[f.current]!==N&&m(y)}function U(N,S,{commit:D}={commit:!1}){const re=pt(o),q=gt(Math.round((N-n)/o)*o+n,re),E=me(q,[n,a]);M((A=[])=>{const R=ct(A,E,S);if(ht(R,c*o)){f.current=R.indexOf(E);const ne=String(R)!==String(A);return ne&&D&&m(R),ne?R:A}else return A})}return e.jsx(rt,{scope:t.__scopeSlider,name:r,disabled:d,min:n,max:a,valueIndexToChangeRef:f,thumbs:b.current,values:y,orientation:i,form:j,children:e.jsx(J.Provider,{scope:t.__scopeSlider,children:e.jsx(J.Slot,{scope:t.__scopeSlider,children:e.jsx(v,{"aria-disabled":d,"data-disabled":d?"":void 0,...g,ref:s,onPointerDown:C(g.onPointerDown,()=>{d||(z.current=y)}),min:n,max:a,inverted:h,onSlideStart:d?void 0:Q,onSlideMove:d?void 0:Ce,onSlideEnd:d?void 0:Ie,onHomeKeyDown:()=>!d&&U(n,0,{commit:!0}),onEndKeyDown:()=>!d&&U(a,y.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:S})=>{if(!d){const q=pe.includes(N.key)||N.shiftKey&&ge.includes(N.key)?10:1,E=f.current,A=y[E],R=o*q*S;U(A+R,E,{commit:!0})}}})})})})});ye.displayName=I;var[je,ve]=be(I,{startEdge:"left",endEdge:"right",size:"width",direction:1}),nt=x.forwardRef((t,s)=>{const{min:r,max:n,dir:a,inverted:o,onSlideStart:i,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...p}=t,[l,m]=x.useState(null),h=V(s,v=>m(v)),j=x.useRef(void 0),g=Te(a),b=g==="ltr",f=b&&!o||!b&&o;function k(v){const y=j.current||l.getBoundingClientRect(),M=[0,y.width],Q=ae(M,f?[r,n]:[n,r]);return j.current=y,Q(v-y.left)}return e.jsx(je,{scope:t.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:e.jsx(Ne,{dir:g,"data-orientation":"horizontal",...p,ref:h,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const y=k(v.clientX);i==null||i(y)},onSlideMove:v=>{const y=k(v.clientX);d==null||d(y)},onSlideEnd:()=>{j.current=void 0,c==null||c()},onStepKeyDown:v=>{const M=fe[f?"from-left":"from-right"].includes(v.key);u==null||u({event:v,direction:M?-1:1})}})})}),it=x.forwardRef((t,s)=>{const{min:r,max:n,inverted:a,onSlideStart:o,onSlideMove:i,onSlideEnd:d,onStepKeyDown:c,...u}=t,p=x.useRef(null),l=V(s,p),m=x.useRef(void 0),h=!a;function j(g){const b=m.current||p.current.getBoundingClientRect(),f=[0,b.height],v=ae(f,h?[n,r]:[r,n]);return m.current=b,v(g-b.top)}return e.jsx(je,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:e.jsx(Ne,{"data-orientation":"vertical",...u,ref:l,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const b=j(g.clientY);o==null||o(b)},onSlideMove:g=>{const b=j(g.clientY);i==null||i(b)},onSlideEnd:()=>{m.current=void 0,d==null||d()},onStepKeyDown:g=>{const f=fe[h?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:f?-1:1})}})})}),Ne=x.forwardRef((t,s)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:d,onStepKeyDown:c,...u}=t,p=O(I,r);return e.jsx(K.span,{...u,ref:s,onKeyDown:C(t.onKeyDown,l=>{l.key==="Home"?(i(l),l.preventDefault()):l.key==="End"?(d(l),l.preventDefault()):pe.concat(ge).includes(l.key)&&(c(l),l.preventDefault())}),onPointerDown:C(t.onPointerDown,l=>{const m=l.target;m.setPointerCapture(l.pointerId),l.preventDefault(),p.thumbs.has(m)?m.focus():n(l)}),onPointerMove:C(t.onPointerMove,l=>{l.target.hasPointerCapture(l.pointerId)&&a(l)}),onPointerUp:C(t.onPointerUp,l=>{const m=l.target;m.hasPointerCapture(l.pointerId)&&(m.releasePointerCapture(l.pointerId),o(l))})})}),we="SliderTrack",Se=x.forwardRef((t,s)=>{const{__scopeSlider:r,...n}=t,a=O(we,r);return e.jsx(K.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:s})});Se.displayName=we;var Z="SliderRange",Re=x.forwardRef((t,s)=>{const{__scopeSlider:r,...n}=t,a=O(Z,r),o=ve(Z,r),i=x.useRef(null),d=V(s,i),c=a.values.length,u=a.values.map(m=>ke(m,a.min,a.max)),p=c>1?Math.min(...u):0,l=100-Math.max(...u);return e.jsx(K.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:d,style:{...t.style,[o.startEdge]:p+"%",[o.endEdge]:l+"%"}})});Re.displayName=Z;var ee="SliderThumb",Pe=x.forwardRef((t,s)=>{const r=st(t.__scopeSlider),[n,a]=x.useState(null),o=V(s,d=>a(d)),i=x.useMemo(()=>n?r().findIndex(d=>d.ref.current===n):-1,[r,n]);return e.jsx(ot,{...t,ref:o,index:i})}),ot=x.forwardRef((t,s)=>{const{__scopeSlider:r,index:n,name:a,...o}=t,i=O(ee,r),d=ve(ee,r),[c,u]=x.useState(null),p=V(s,k=>u(k)),l=c?i.form||!!c.closest("form"):!0,m=Fe(c),h=i.values[n],j=h===void 0?0:ke(h,i.min,i.max),g=dt(n,i.values.length),b=m==null?void 0:m[d.size],f=b?ut(b,j,d.direction):0;return x.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${j}% + ${f}px)`},children:[e.jsx(J.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(K.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":i.min,"aria-valuenow":h,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:p,style:h===void 0?{display:"none"}:t.style,onFocus:C(t.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),l&&e.jsx(lt,{name:a??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:h},n)]})});Pe.displayName=ee;var lt=t=>{const{value:s,...r}=t,n=x.useRef(null),a=Le(s);return x.useEffect(()=>{const o=n.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(a!==s&&c){const u=new Event("input",{bubbles:!0});c.call(o,s),o.dispatchEvent(u)}},[a,s]),e.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:s})};function ct(t=[],s,r){const n=[...t];return n[r]=s,n.sort((a,o)=>a-o)}function ke(t,s,r){const o=100/(r-s)*(t-s);return me(o,[0,100])}function dt(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function mt(t,s){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-s)),n=Math.min(...r);return r.indexOf(n)}function ut(t,s,r){const n=t/2,o=ae([0,50],[0,n]);return(n-o(s)*r)*r}function xt(t){return t.slice(0,-1).map((s,r)=>t[r+1]-s)}function ht(t,s){if(s>0){const r=xt(t);return Math.min(...r)>=s}return!0}function ae(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const n=(s[1]-s[0])/(t[1]-t[0]);return s[0]+n*(r-t[0])}}function pt(t){return(String(t).split(".")[1]||"").length}function gt(t,s){const r=Math.pow(10,s);return Math.round(t*r)/r}var De=ye,ft=Se,bt=Re,de=Pe;const te=x.forwardRef(({className:t,...s},r)=>e.jsxs(De,{ref:r,className:Be("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(ft,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(bt,{className:"absolute h-full bg-primary"})}),e.jsx(de,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}),e.jsx(de,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));te.displayName=De.displayName;const yt={free:{monthlyPrice:0,scoutQueries:50,advancedQueries:0,hoursPerQuery:.25},pro:{monthlyPrice:9.99,scoutQueries:500,advancedQueries:100,hoursPerQuery:.5},enterprise:{monthlyPrice:49.99,scoutQueries:999999,advancedQueries:500,hoursPerQuery:1}};function jt({userCurrency:t,currentTier:s}){const[r,n]=x.useState(50),[a,o]=x.useState(50),i=x.useMemo(()=>{const c=yt[s],u=r*.5,p=r*.05,l=u-p,m=l*a,h=m-c.monthlyPrice,j=c.monthlyPrice>0?(m/c.monthlyPrice*100).toFixed(0):"Infinite";return{hoursWithoutAI:u,hoursWithAI:p,hoursSaved:l,moneySaved:m,netSavings:h,roi:j,monthlyPrice:c.monthlyPrice}},[r,a,s]),d=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:t||"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(c);return e.jsxs(L,{className:"border-border/40 bg-gradient-to-br from-background to-muted/20",children:[e.jsx(se,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(Ve,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-lg font-semibold",children:"AI Value Calculator"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"See how much time and money you save"})]})]}),e.jsxs(P,{variant:"secondary",className:"text-xs",children:[s.charAt(0).toUpperCase()+s.slice(1)," Plan"]})]})}),e.jsxs(H,{className:"space-y-8",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium",children:"Financial questions per month"}),e.jsx("span",{className:"text-sm font-bold text-primary",children:r})]}),e.jsx(te,{value:[r],onValueChange:c=>n(c[0]),min:10,max:200,step:10,className:"w-full","data-testid":"slider-queries"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Budget reviews, spending analysis, investment questions, tax planning..."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium",children:"Your hourly value"}),e.jsxs("span",{className:"text-sm font-bold text-primary",children:[d(a),"/hr"]})]}),e.jsx(te,{value:[a],onValueChange:c=>o(c[0]),min:15,max:200,step:5,className:"w-full","data-testid":"slider-hourly-rate"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"What's your time worth? Consider salary or consulting rate."})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-white dark:bg-gray-900 border border-border/30 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Time Without AI"})]}),e.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[i.hoursWithoutAI.toFixed(1),"h"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Research, calculations, analysis"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white dark:bg-gray-900 border border-border/30 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Time With AI"})]}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[i.hoursWithAI.toFixed(1),"h"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Quick answers, instant insights"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200/30 dark:border-green-800/30 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Hours Saved"})]}),e.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[i.hoursSaved.toFixed(1),"h"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Per month productivity gain"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-primary/5 border border-primary/20 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[e.jsx(_e,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Value Created"})]}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:d(i.moneySaved)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Time savings converted to money"})]})]}),e.jsx("div",{className:"p-6 rounded-xl bg-gradient-to-r from-primary/10 via-primary/5 to-transparent border border-primary/20",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Your Monthly ROI"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.monthlyPrice>0?`After ${d(i.monthlyPrice)}/month subscription`:"Free plan - no subscription cost"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-primary",children:i.monthlyPrice>0?`${i.roi}%`:d(i.moneySaved)}),i.monthlyPrice>0&&e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:["Net savings: ",d(i.netSavings),"/mo"]})]})]})})]})]})}function Ae({value:t,delay:s=0}){const[r,n]=x.useState(0);return x.useEffect(()=>{const a=setTimeout(()=>{const d=t/40;let c=0;const u=setInterval(()=>{c+=d,c>=t?(n(t),clearInterval(u)):n(c)},800/40);return()=>clearInterval(u)},s);return()=>clearTimeout(a)},[t,s]),e.jsx("span",{children:Math.round(r).toLocaleString()})}function vt({value:t,className:s}){const[r,n]=x.useState(0);return x.useEffect(()=>{const a=setTimeout(()=>{n(t)},300);return()=>clearTimeout(a)},[t]),e.jsx(qe,{value:r,className:s})}function $({title:t,used:s,limit:r,icon:n,color:a,badge:o,delay:i=0}){const d=r===999999?0:s/r*100,c=d>=80,u=r===999999;return e.jsxs(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:i},className:`p-4 sm:p-5 bg-card rounded-xl border ${a==="blue"?"border-blue-200/30 dark:border-blue-800/30":a==="emerald"?"border-emerald-200/30 dark:border-emerald-800/30":a==="amber"?"border-amber-200/30 dark:border-amber-800/30":"border-border/30"} space-y-4`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:`w-4 h-4 ${a==="blue"?"text-blue-600 dark:text-blue-400":a==="emerald"?"text-emerald-600 dark:text-emerald-400":a==="amber"?"text-amber-600 dark:text-amber-400":"text-primary"}`}),e.jsx("span",{className:"text-sm font-semibold",children:t})]}),e.jsx(P,{className:`text-xs px-2 py-0.5 ${a==="blue"?"bg-blue-500 text-white":a==="emerald"?"bg-emerald-500 text-white":a==="amber"?"bg-gradient-to-r from-amber-500 to-yellow-600 text-white":"bg-primary text-primary-foreground"}`,children:o})]}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:`text-2xl font-bold ${a==="blue"?"text-blue-600 dark:text-blue-400":a==="emerald"?"text-emerald-600 dark:text-emerald-400":a==="amber"?"text-amber-600 dark:text-amber-400":"text-primary"}`,children:e.jsx(Ae,{value:s,delay:i*1e3})}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:["/ ",u?"Unlimited":r.toLocaleString()]})]}),!u&&e.jsxs(e.Fragment,{children:[e.jsx(vt,{value:d,className:`h-2 ${a==="blue"?"bg-blue-100 dark:bg-blue-900/30":a==="emerald"?"bg-emerald-100 dark:bg-emerald-900/30":a==="amber"?"bg-amber-100 dark:bg-amber-900/30":"bg-muted"}`}),c&&e.jsxs(w.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center gap-2 text-xs text-orange-600 dark:text-orange-400 bg-orange-100 dark:bg-orange-900/20 rounded-lg p-2",children:[e.jsx(Ke,{className:"h-3 w-3"}),e.jsx("span",{className:"font-medium",children:"Running low!"})]})]}),u&&e.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Unlimited queries available"})]})}function Nt({plan:t,isCurrentPlan:s,userCurrency:r,onUpgrade:n,delay:a=0}){const o=t.name==="Pro",i=t.name==="Enterprise",d=t.priceUsd==="0.00",c=parseFloat(t.priceUsd),u=et(c,r);return e.jsx(w.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:a},className:"h-full",children:e.jsxs(L,{className:`relative h-full flex flex-col transition-all duration-300 ${o?"border-primary/40 shadow-lg ring-1 ring-primary/20 hover:shadow-xl":"border-border/40 hover:border-border hover:shadow-lg"} ${s?"ring-2 ring-primary bg-primary/5":""}`,"data-testid":`card-plan-${t.name.toLowerCase()}`,children:[o&&e.jsx(w.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:a+.2},children:e.jsx(P,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-primary text-primary-foreground px-4 py-1 text-xs font-medium z-10",children:"MOST POPULAR"})}),i&&e.jsx(w.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:a+.2},children:e.jsx(P,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-amber-500 to-yellow-600 text-white px-4 py-1 text-xs font-medium z-10",children:"BEST FOR CFO TEAMS"})}),e.jsxs(se,{className:"space-y-4 p-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{className:"text-lg font-bold",children:t.displayName}),s&&e.jsx(P,{className:"bg-primary text-primary-foreground px-3 py-1 text-xs font-medium",children:"Active"})]}),e.jsx(Oe,{className:"text-sm leading-relaxed",children:t.description}),e.jsx("div",{className:"space-y-2 pt-2",children:d?e.jsx("div",{className:"flex items-baseline",children:e.jsx("span",{className:"text-4xl sm:text-5xl font-bold",children:"Free"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-4xl sm:text-5xl font-bold",children:[u.currency.symbol,u.amount.toFixed(2)]}),e.jsx("span",{className:"text-muted-foreground text-base",children:"/month"})]}),u.isDiscounted&&u.originalAmount&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground line-through",children:he(u.originalAmount,r)}),e.jsxs(P,{className:"bg-green-500 text-white text-xs",children:[Math.round((1-u.amount/u.originalAmount)*100),"% OFF"]})]}),r!=="USD"&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["~$",c.toFixed(2)," USD"]})]})})]}),e.jsxs(H,{className:"flex-1 flex flex-col space-y-6 p-5 sm:p-6 pt-0",children:[e.jsxs("div",{className:"space-y-4 flex-1",children:[e.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4 text-primary"}),"AI Model Quotas"]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm",children:"Scout (Fast)"})]}),e.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400","data-testid":`text-${t.name.toLowerCase()}-scout-limit`,children:t.scoutLimit===999999?"Unlimited":t.scoutLimit})]}),t.sonnetLimit>0&&e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm",children:"Sonnet (Smart)"})]}),e.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400","data-testid":`text-${t.name.toLowerCase()}-sonnet-limit`,children:t.sonnetLimit})]}),t.gpt5Limit>0&&e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"}),e.jsx("span",{className:"text-sm",children:"GPT-5 (Math)"})]}),e.jsx("span",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400","data-testid":`text-${t.name.toLowerCase()}-gpt5-limit`,children:t.gpt5Limit})]}),t.opusLimit>0&&e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"}),e.jsx("span",{className:"text-sm",children:"Opus (CFO)"})]}),e.jsx("span",{className:"text-sm font-bold text-amber-600 dark:text-amber-400","data-testid":`text-${t.name.toLowerCase()}-opus-limit`,children:t.opusLimit===999999?"Unlimited":t.opusLimit})]})]}),e.jsxs("div",{className:"space-y-2.5 pt-2",children:[e.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-green-500"}),"Features Included"]}),e.jsx("ul",{className:"space-y-2",children:t.features.slice(0,5).map((p,l)=>e.jsxs("li",{className:"flex items-center gap-2.5 text-sm",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:e.jsx(W,{className:"w-2.5 h-2.5 text-green-600 dark:text-green-400"})}),e.jsx("span",{className:"text-muted-foreground capitalize",children:p.replace(/_/g," ")})]},l))})]})]}),e.jsx(ze,{className:`w-full h-12 text-base font-semibold ${s?"bg-muted text-muted-foreground cursor-not-allowed":o||i?"bg-primary hover:bg-primary/90 text-primary-foreground shadow-md hover:shadow-lg":"bg-primary hover:bg-primary/90 text-primary-foreground"}`,disabled:s,onClick:n,"data-testid":`button-upgrade-${t.name.toLowerCase()}`,children:s?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Current Plan"]}):d?e.jsxs(e.Fragment,{children:["Start Free",e.jsx(Qe,{className:"w-4 h-4 ml-2"})]}):e.jsxs(e.Fragment,{children:["Upgrade to ",t.name,e.jsx(G,{className:"w-4 h-4 ml-2"})]})})]})]})})}function Dt(){var p;const{toast:t}=$e();He();const{data:s,isLoading:r}=_({queryKey:["/api/subscription/plans"]}),{data:n,isLoading:a}=_({queryKey:["/api/subscription/current"]}),{data:o}=_({queryKey:["/api/subscription/usage"],refetchInterval:5*60*1e3}),{data:i}=_({queryKey:["/api/user-preferences"]}),d=async(l,m)=>{if(m==="Free")ie("POST","/api/subscription/upgrade",{planId:l}).then(()=>{t({title:"Switched to Free Plan",description:"You're now on the Free plan."}),oe.invalidateQueries({queryKey:["/api/subscription/current"]}),oe.invalidateQueries({queryKey:["/api/subscription/usage"]})}).catch(h=>{t({title:"Upgrade failed",description:h.message||"Failed to change plan",variant:"destructive"})});else try{const j=await(await ie("POST","/api/subscription/create-checkout-session",{planId:l})).json(),{url:g}=j;if(g)window.location.href=g;else throw new Error("No checkout URL received from Stripe")}catch(h){t({title:"Checkout Failed",description:h.message||"Failed to create checkout session",variant:"destructive"})}};if(r||a)return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"bg-background/95 backdrop-blur border-b border-border/40 sticky top-0 z-30",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx(T,{className:"h-8 w-48 mb-2"}),e.jsx(T,{className:"h-4 w-64"})]})}),e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[e.jsx(L,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(T,{className:"h-6 w-48"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:[...Array(4)].map((l,m)=>e.jsx(T,{className:"h-32 rounded-xl"},m))})]})}),e.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:[1,2,3].map(l=>e.jsx(T,{className:"h-[500px] rounded-xl"},l))})]})]});const c=(p=n==null?void 0:n.subscription)==null?void 0:p.plan,u=(i==null?void 0:i.currency)||"USD";return e.jsxs("div",{className:"min-h-screen-mobile bg-background pb-20 md:pb-0",children:[e.jsx("header",{className:"bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border/40 sticky top-0 z-30",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-3 sm:py-4 lg:py-6",children:e.jsxs(w.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4},children:[e.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl xl:text-3xl font-semibold tracking-tight text-foreground",children:"Subscription Plans"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5 sm:mt-1 line-clamp-1",children:"Upgrade your account to unlock advanced features"})]})})}),e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-8 sm:space-y-12",children:[c&&e.jsx(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:e.jsxs(L,{className:"border-border/40 overflow-hidden",children:[e.jsx(se,{className:"space-y-3 pb-4",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Your Current Plan"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.displayName})]}),e.jsx(P,{variant:"secondary",className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 border-0",children:"Active"})]})}),e.jsxs(H,{className:"space-y-6",children:[o&&e.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx($,{title:"Scout Queries",used:o.scoutUsage.used,limit:o.scoutUsage.limit,icon:F,color:"blue",badge:"Fast",delay:0}),o.sonnetUsage.limit>0&&e.jsx($,{title:"Sonnet Queries",used:o.sonnetUsage.used,limit:o.sonnetUsage.limit,icon:B,color:"blue",badge:"Smart",delay:.1}),o.gpt5Usage&&o.gpt5Usage.limit>0&&e.jsx($,{title:"GPT-5 Queries",used:o.gpt5Usage.used,limit:o.gpt5Usage.limit,icon:Y,color:"emerald",badge:"Math",delay:.2}),o.opusUsage.limit>0&&e.jsx($,{title:"Opus Queries",used:o.opusUsage.used,limit:o.opusUsage.limit,icon:G,color:"amber",badge:"CFO",delay:.3})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-3",children:[{label:"Insights Generated",value:(o==null?void 0:o.insights)||0,icon:B},{label:"Tokens Used",value:(o==null?void 0:o.totalTokens)||0,icon:F},{label:"AI Costs",value:`$${(o==null?void 0:o.estimatedCost)||"0.00"}`,icon:Y}].map((l,m)=>e.jsxs(w.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4+m*.1},className:"text-center p-4 sm:p-5 bg-muted/50 rounded-xl",children:[e.jsx(l.icon,{className:"w-5 h-5 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:typeof l.value=="number"?e.jsx(Ae,{value:l.value,delay:400+m*100}):l.value}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l.label})]},l.label))})]})]})}),e.jsx(jt,{userCurrency:u,currentTier:(c==null?void 0:c.name)==="Enterprise"?"enterprise":(c==null?void 0:c.name)==="Pro"?"pro":"free"}),e.jsxs("div",{className:"space-y-8 sm:space-y-10",children:[e.jsxs(w.div,{className:"text-center space-y-3 sm:space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight text-foreground",children:"Choose Your Plan"}),e.jsx("p",{className:"text-sm sm:text-base md:text-lg text-muted-foreground max-w-2xl mx-auto",children:"Start free and scale as you grow. Unlock AI-powered financial insights."}),e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4 sm:gap-6 text-xs sm:text-sm text-muted-foreground pt-2",children:[{icon:Ge,text:"Cancel anytime"},{icon:F,text:"Instant activation"},{icon:Ye,text:"No setup fees"}].map((l,m)=>e.jsxs(w.div,{className:"flex items-center gap-1.5",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3+m*.1},children:[e.jsx(l.icon,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:l.text})]},l.text))})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8 max-w-6xl mx-auto px-1",children:s==null?void 0:s.sort((l,m)=>l.sortOrder-m.sortOrder).slice(0,3).map((l,m)=>e.jsx(Nt,{plan:l,isCurrentPlan:(c==null?void 0:c.id)===l.id,userCurrency:u,onUpgrade:()=>d(l.id,l.name),delay:m*.15},l.id))})]}),e.jsx(w.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:e.jsxs(L,{className:"relative overflow-hidden border-border/40",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5"}),e.jsx(H,{className:"relative p-6 sm:p-8",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("div",{className:"p-3 sm:p-4 bg-primary/10 rounded-2xl",children:e.jsx(F,{className:"h-8 w-8 sm:h-10 sm:w-10 text-primary"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Why Choose Twealth AI?"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Advanced AI technology at unbeatable prices"})]})]}),e.jsx("div",{className:"grid gap-4 sm:gap-6 sm:grid-cols-3",children:[{value:"25x",label:"Cheaper than hiring a CFO"},{value:"4",label:"AI models working for you"},{value:"24/7",label:"Financial insights available"}].map((l,m)=>e.jsxs(w.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.8+m*.1},className:"text-center p-4 sm:p-6 bg-card rounded-xl border border-border/40",children:[e.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-primary",children:l.value}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:l.label})]},l.label))})]})})]})})]})]})}export{Dt as default};
