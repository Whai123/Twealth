import{c as W,r as c,e as me,u as ss,j as e,b as ge,P as be,f as fe,aU as as,aV as ts,o as T,q as te,aW as ls,y as le,z as O,B as _,E as v,_ as H,O as y,Q as k,S as P,U as S,V as j,aX as rs,aY as is,aw as ns,aT as ds,$ as F,a0 as M,a1 as I,a2 as L,a3 as h,Y as ae,W as cs,Z as V,H as Y,J as se,K as os,aZ as ve,aI as ms,aK as xs,a_ as us,aL as hs,a$ as ps,aO as gs,aP as bs,aM as ye,aN as fs,aJ as vs,b0 as je,b1 as ys,aR as js,ak as Ns,a8 as ws,p as ks,L as Ps,M as Ss,N as Cs,aB as Ds,a4 as As,b2 as Es,af as Ts,b3 as Rs,am as Fs,a5 as re}from"./index-NNgTI0RQ.js";import{F as Ms,a as z,b as G,c as K,d as Q,f as J,e as Z}from"./form-DeqjsDZl.js";import{T as Is,a as Ls,b as X,c as ee}from"./tabs-a-uRWqhW.js";import{B as ue}from"./bell-B71JwlkR.js";import{C as ie}from"./circle-check-big-DIqrf9ZE.js";import{T as ce}from"./trending-up-BnP5NHLE.js";import{Z as ne}from"./zap-jVm97dbR.js";import{E as oe}from"./eye-_v_8ucD7.js";import{B as $s}from"./badge-D7Q8E7hz.js";import{C as de}from"./calendar-CwD0FHKB.js";import{S as Ne}from"./shield-DTrErQQt.js";import{L as Us}from"./lock-C-52eLxF.js";import{F as Vs,S as Bs}from"./save-BWhGKkwC.js";import{T as Os}from"./trash-2-iBqgHWxY.js";import{C as _s}from"./credit-card-BRwojsv2.js";import{C as Hs}from"./clock-QmJAeAa1.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=W("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=W("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=W("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=W("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=W("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=W("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=W("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);var xe="Switch",[Gs]=ge(xe),[Ks,Qs]=Gs(xe),ke=c.forwardRef((t,r)=>{const{__scopeSwitch:l,name:i,checked:a,defaultChecked:x,required:n,disabled:u,value:g="on",onCheckedChange:o,form:N,...b}=t,[f,d]=c.useState(null),R=me(r,s=>d(s)),C=c.useRef(!1),D=f?N||!!f.closest("form"):!0,[A=!1,B]=ss({prop:a,defaultProp:x,onChange:o});return e.jsxs(Ks,{scope:l,checked:A,disabled:u,children:[e.jsx(be.button,{type:"button",role:"switch","aria-checked":A,"aria-required":n,"data-state":Ce(A),"data-disabled":u?"":void 0,disabled:u,value:g,...b,ref:R,onClick:fe(t.onClick,s=>{B(p=>!p),D&&(C.current=s.isPropagationStopped(),C.current||s.stopPropagation())})}),D&&e.jsx(Js,{control:f,bubbles:!C.current,name:i,value:g,checked:A,required:n,disabled:u,form:N,style:{transform:"translateX(-100%)"}})]})});ke.displayName=xe;var Pe="SwitchThumb",Se=c.forwardRef((t,r)=>{const{__scopeSwitch:l,...i}=t,a=Qs(Pe,l);return e.jsx(be.span,{"data-state":Ce(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:r})});Se.displayName=Pe;var Js=t=>{const{control:r,checked:l,bubbles:i=!0,...a}=t,x=c.useRef(null),n=as(l),u=ts(r);return c.useEffect(()=>{const g=x.current,o=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(o,"checked").set;if(n!==l&&b){const f=new Event("click",{bubbles:i});b.call(g,l),g.dispatchEvent(f)}},[n,l,i]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l,...a,tabIndex:-1,ref:x,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ce(t){return t?"checked":"unchecked"}var De=ke,Zs=Se;const E=c.forwardRef(({className:t,...r},l)=>e.jsx(De,{className:T("peer inline-flex h-11 min-h-[44px] w-[60px] shrink-0 cursor-pointer items-center rounded-full px-1 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/20 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input hover:data-[state=unchecked]:bg-input/80",t),...r,ref:l,children:e.jsx(Zs,{className:T("pointer-events-none block h-9 w-9 rounded-full bg-background shadow-lg ring-0 transition-transform duration-200 data-[state=checked]:translate-x-[18px] data-[state=unchecked]:translate-x-0")})}));E.displayName=De.displayName;function Xs({}){const{toast:t}=te(),{setTheme:r}=ls(),[l,i]=c.useState({monthlyIncome:"",monthlyExpenses:"",currentSavings:""}),{data:a,isLoading:x}=le({queryKey:["/api/user-preferences"]});c.useEffect(()=>{var s,p,w;a&&i({monthlyIncome:((s=a.monthlyIncomeEstimate)==null?void 0:s.toString())||"",monthlyExpenses:((p=a.monthlyExpensesEstimate)==null?void 0:p.toString())||"",currentSavings:((w=a.currentSavingsEstimate)==null?void 0:w.toString())||""})},[a]);const n=O({mutationFn:s=>_("PUT","/api/user-preferences",s),onMutate:async s=>{await v.cancelQueries({queryKey:["/api/user-preferences"]});const p=v.getQueryData(["/api/user-preferences"]);return p&&v.setQueryData(["/api/user-preferences"],{...p,...s}),{previousPreferences:p}},onSuccess:()=>{v.invalidateQueries({queryKey:["/api/user-preferences"]}),t({title:"Preferences updated",description:"Your preferences have been saved successfully."})},onError:(s,p,w)=>{w!=null&&w.previousPreferences&&v.setQueryData(["/api/user-preferences"],w.previousPreferences),t({title:"Error",description:"Failed to update preferences. Please try again.",variant:"destructive"})}}),u=[{value:"light",label:"Light",icon:rs,description:"Clean, bright interface"},{value:"dark",label:"Dark",icon:is,description:"Easy on the eyes"},{value:"system",label:"System",icon:qs,description:"Follows device setting"}],g=[{value:"en",label:"English"},{value:"es",label:"EspaÃ±ol"},{value:"th",label:"à¹„à¸—à¸¢"},{value:"id",label:"Bahasa Indonesia"},{value:"pt",label:"PortuguÃªs"},{value:"hi",label:"à¤¹à¤¿à¤¨à¥à¤¦à¥€"},{value:"vi",label:"Tiáº¿ng Viá»‡t"},{value:"tl",label:"Filipino"},{value:"ms",label:"Bahasa Melayu"},{value:"tr",label:"TÃ¼rkÃ§e"}],o=[{value:"USD",label:"US Dollar",symbol:"$"},{value:"THB",label:"Thai Baht",symbol:"à¸¿"},{value:"EUR",label:"Euro",symbol:"â‚¬"},{value:"IDR",label:"Indonesian Rupiah",symbol:"Rp"},{value:"VND",label:"Vietnamese Dong",symbol:"â‚«"},{value:"INR",label:"Indian Rupee",symbol:"â‚¹"},{value:"PHP",label:"Philippine Peso",symbol:"â‚±"},{value:"BRL",label:"Brazilian Real",symbol:"R$"},{value:"MYR",label:"Malaysian Ringgit",symbol:"RM"},{value:"MXN",label:"Mexican Peso",symbol:"$"},{value:"TRY",label:"Turkish Lira",symbol:"â‚º"},{value:"GBP",label:"British Pound",symbol:"Â£"},{value:"JPY",label:"Japanese Yen",symbol:"Â¥"},{value:"CAD",label:"Canadian Dollar",symbol:"C$"},{value:"AUD",label:"Australian Dollar",symbol:"A$"}],N=[{value:"US",label:"United States",flag:"ðŸ‡ºðŸ‡¸"},{value:"GB",label:"United Kingdom",flag:"ðŸ‡¬ðŸ‡§"},{value:"CA",label:"Canada",flag:"ðŸ‡¨ðŸ‡¦"},{value:"AU",label:"Australia",flag:"ðŸ‡¦ðŸ‡º"},{value:"DE",label:"Germany",flag:"ðŸ‡©ðŸ‡ª"},{value:"FR",label:"France",flag:"ðŸ‡«ðŸ‡·"},{value:"IT",label:"Italy",flag:"ðŸ‡®ðŸ‡¹"},{value:"ES",label:"Spain",flag:"ðŸ‡ªðŸ‡¸"},{value:"NL",label:"Netherlands",flag:"ðŸ‡³ðŸ‡±"},{value:"CH",label:"Switzerland",flag:"ðŸ‡¨ðŸ‡­"},{value:"SE",label:"Sweden",flag:"ðŸ‡¸ðŸ‡ª"},{value:"NO",label:"Norway",flag:"ðŸ‡³ðŸ‡´"},{value:"DK",label:"Denmark",flag:"ðŸ‡©ðŸ‡°"},{value:"AT",label:"Austria",flag:"ðŸ‡¦ðŸ‡¹"},{value:"BE",label:"Belgium",flag:"ðŸ‡§ðŸ‡ª"},{value:"PT",label:"Portugal",flag:"ðŸ‡µðŸ‡¹"},{value:"IE",label:"Ireland",flag:"ðŸ‡®ðŸ‡ª"},{value:"PL",label:"Poland",flag:"ðŸ‡µðŸ‡±"},{value:"JP",label:"Japan",flag:"ðŸ‡¯ðŸ‡µ"},{value:"CN",label:"China",flag:"ðŸ‡¨ðŸ‡³"},{value:"KR",label:"South Korea",flag:"ðŸ‡°ðŸ‡·"},{value:"SG",label:"Singapore",flag:"ðŸ‡¸ðŸ‡¬"},{value:"HK",label:"Hong Kong",flag:"ðŸ‡­ðŸ‡°"},{value:"TW",label:"Taiwan",flag:"ðŸ‡¹ðŸ‡¼"},{value:"TH",label:"Thailand",flag:"ðŸ‡¹ðŸ‡­"},{value:"VN",label:"Vietnam",flag:"ðŸ‡»ðŸ‡³"},{value:"ID",label:"Indonesia",flag:"ðŸ‡®ðŸ‡©"},{value:"MY",label:"Malaysia",flag:"ðŸ‡²ðŸ‡¾"},{value:"PH",label:"Philippines",flag:"ðŸ‡µðŸ‡­"},{value:"IN",label:"India",flag:"ðŸ‡®ðŸ‡³"},{value:"AE",label:"UAE",flag:"ðŸ‡¦ðŸ‡ª"},{value:"SA",label:"Saudi Arabia",flag:"ðŸ‡¸ðŸ‡¦"},{value:"IL",label:"Israel",flag:"ðŸ‡®ðŸ‡±"},{value:"TR",label:"Turkey",flag:"ðŸ‡¹ðŸ‡·"},{value:"RU",label:"Russia",flag:"ðŸ‡·ðŸ‡º"},{value:"BR",label:"Brazil",flag:"ðŸ‡§ðŸ‡·"},{value:"MX",label:"Mexico",flag:"ðŸ‡²ðŸ‡½"},{value:"AR",label:"Argentina",flag:"ðŸ‡¦ðŸ‡·"},{value:"CL",label:"Chile",flag:"ðŸ‡¨ðŸ‡±"},{value:"CO",label:"Colombia",flag:"ðŸ‡¨ðŸ‡´"},{value:"ZA",label:"South Africa",flag:"ðŸ‡¿ðŸ‡¦"},{value:"NG",label:"Nigeria",flag:"ðŸ‡³ðŸ‡¬"},{value:"EG",label:"Egypt",flag:"ðŸ‡ªðŸ‡¬"},{value:"NZ",label:"New Zealand",flag:"ðŸ‡³ðŸ‡¿"}],b=s=>{r(s),v.setQueryData(["/api/user-preferences"],p=>p&&{...p,theme:s}),n.mutate({theme:s})},f=s=>{a&&n.mutate({[s]:!a[s]})},d=s=>{n.mutate({language:s})},R=s=>{n.mutate({currency:s})},C=s=>{n.mutate({countryCode:s})},D=(s,p)=>{i(w=>({...w,[s]:p}))},A=()=>{const s={};l.monthlyIncome&&(s.monthlyIncomeEstimate=l.monthlyIncome),l.monthlyExpenses&&(s.monthlyExpensesEstimate=l.monthlyExpenses),l.currentSavings&&(s.currentSavingsEstimate=l.currentSavings),Object.keys(s).length>0?n.mutate(s):t({title:"No changes",description:"Please enter your financial information first.",variant:"destructive"})},B=async()=>{try{await v.refetchQueries({queryKey:["/api/user-preferences"]}),t({title:"Settings synchronized",description:"Your preferences have been refreshed from the server."})}catch{t({title:"Sync failed",description:"Could not refresh settings. Please try again.",variant:"destructive"})}};return x?e.jsxs("div",{className:"flex items-center justify-center p-8 sm:p-12",children:[e.jsx(H,{className:"animate-spin mr-2 w-6 h-6 sm:w-8 sm:h-8 text-blue-600"}),e.jsx("span",{className:"text-base sm:text-lg text-slate-600 dark:text-slate-400",children:"Loading preferences..."})]}):a?e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs(y,{className:"border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(k,{className:"p-4 sm:p-6",children:[e.jsxs(P,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(we,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),"Theme & Appearance"]}),e.jsx(S,{className:"text-sm sm:text-base mt-1",children:"Customize your interface colors and style"})]}),e.jsx(j,{className:"p-4 sm:p-6 space-y-6",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("h4",{className:"font-medium text-sm sm:text-base text-slate-700 dark:text-slate-300",children:"Theme Mode"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:u.map(s=>e.jsxs("button",{"data-testid":`theme-${s.value}`,onClick:()=>b(s.value),disabled:n.isPending,className:`min-h-[88px] sm:min-h-[100px] p-4 sm:p-5 rounded-xl border-2 transition-all ${a.theme===s.value?"border-blue-600 bg-blue-50 dark:bg-blue-950/30 shadow-md":"border-slate-200 dark:border-slate-700 hover:border-blue-400 dark:hover:border-blue-600 bg-white dark:bg-slate-800/50"} ${n.isPending?"opacity-50 cursor-not-allowed":"cursor-pointer[1.02]"}`,children:[e.jsx("div",{className:"flex items-center justify-center mb-2 sm:mb-3",children:e.jsx(s.icon,{className:`w-6 h-6 sm:w-7 sm:h-7 ${a.theme===s.value?"text-blue-600":"text-slate-400"}`})}),e.jsx("h4",{className:"font-semibold text-sm sm:text-base text-slate-900 dark:text-white",children:s.label}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-1",children:s.description})]},s.value))})]})})]}),e.jsxs(y,{className:"border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(k,{className:"p-4 sm:p-6",children:[e.jsxs(P,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(ue,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),"Notifications"]}),e.jsx(S,{className:"text-sm sm:text-base mt-1",children:"Manage how you receive alerts and updates"})]}),e.jsxs(j,{className:"p-4 sm:p-6 space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between min-h-[60px] p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3 sm:mb-0",children:[e.jsx(ie,{className:"text-green-600 w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm sm:text-base text-slate-900 dark:text-white",children:"Goal Progress"}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:"Notify when goals reach milestones"})]})]}),e.jsx(E,{"data-testid":"switch-goal-reminders",checked:a.goalReminders??!0,onCheckedChange:()=>f("goalReminders"),disabled:n.isPending,className:"scale-110"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between min-h-[60px] p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3 sm:mb-0",children:[e.jsx(ns,{className:"text-blue-600 w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm sm:text-base text-slate-900 dark:text-white",children:"Expense Alerts"}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:"Alert for large expenses and income"})]})]}),e.jsx(E,{"data-testid":"switch-expense-alerts",checked:a.expenseAlerts??!0,onCheckedChange:()=>f("expenseAlerts"),disabled:n.isPending,className:"scale-110"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between min-h-[60px] p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3 sm:mb-0",children:[e.jsx(ds,{className:"text-blue-600 w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm sm:text-base text-slate-900 dark:text-white",children:"Weekly Reports"}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:"Weekly financial insights and tips"})]})]}),e.jsx(E,{"data-testid":"switch-weekly-reports",checked:a.weeklyReports??!0,onCheckedChange:()=>f("weeklyReports"),disabled:n.isPending,className:"scale-110"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between min-h-[60px] p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3 sm:mb-0",children:[e.jsx(ue,{className:"text-orange-600 w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm sm:text-base text-slate-900 dark:text-white",children:"Email Notifications"}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:"Receive updates via email"})]})]}),e.jsx(E,{"data-testid":"switch-email-notifications",checked:a.emailNotifications??!0,onCheckedChange:()=>f("emailNotifications"),disabled:n.isPending,className:"scale-110"})]})]})]}),e.jsxs(y,{className:"border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(k,{className:"p-4 sm:p-6",children:[e.jsxs(P,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(Ws,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"}),"Language & Region"]}),e.jsx(S,{className:"text-sm sm:text-base mt-1",children:"Set your country, language, and currency for personalized financial advice"})]}),e.jsxs(j,{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(pe,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-200",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Why your country matters"}),e.jsx("p",{className:"text-xs sm:text-sm",children:"Your country determines local tax rates, cost of living, and luxury goods pricing that the AI uses for accurate financial advice."})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[e.jsx(pe,{className:"w-4 h-4 text-blue-600"}),"Your Country"]}),e.jsxs(F,{value:a.countryCode??"US",onValueChange:C,disabled:n.isPending,children:[e.jsx(M,{className:"h-12 sm:h-14 text-base bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-700","data-testid":"select-country",children:e.jsx(I,{placeholder:"Select your country"})}),e.jsx(L,{className:"max-h-[300px]",children:N.map(s=>e.jsx(h,{value:s.value,children:e.jsxs("div",{className:"flex items-center gap-2 py-1",children:[e.jsx("span",{className:"text-base",children:s.flag}),e.jsx("span",{className:"text-sm sm:text-base",children:s.label})]})},s.value))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300 block",children:"Language"}),e.jsxs(F,{value:a.language??"en",onValueChange:d,disabled:n.isPending,children:[e.jsx(M,{className:"h-12 sm:h-14 text-base bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-700","data-testid":"select-language",children:e.jsx(I,{})}),e.jsx(L,{children:g.map(s=>e.jsx(h,{value:s.value,children:e.jsx("span",{className:"text-sm sm:text-base",children:s.label})},s.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300 block",children:"Default Currency"}),e.jsxs(F,{value:a.currency??"USD",onValueChange:R,disabled:n.isPending,children:[e.jsx(M,{className:"h-12 sm:h-14 text-base bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-700","data-testid":"select-currency",children:e.jsx(I,{})}),e.jsx(L,{children:o.map(s=>e.jsx(h,{value:s.value,children:e.jsxs("div",{className:"flex items-center gap-2 py-1",children:[e.jsx("span",{className:"text-sm sm:text-base",children:s.label}),e.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:["(",s.symbol,")"]})]})},s.value))})]})]})]})]})]}),e.jsxs(y,{className:"border-2 border-green-200 dark:border-green-900/50 shadow-sm hover:shadow-md transition-shadow bg-white dark:bg-gray-900",children:[e.jsxs(k,{className:"p-4 sm:p-6",children:[e.jsxs(P,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(ae,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"}),"Financial Profile"]}),e.jsx(S,{className:"text-sm sm:text-base mt-1",children:"Set your income, expenses, and savings to unlock personalized AI insights"})]}),e.jsxs(j,{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ce,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-200",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Why this matters"}),e.jsx("p",{className:"text-xs sm:text-sm",children:"Your financial data powers the AI Insights page, providing personalized budget recommendations and net worth projections based on your actual situation."})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[e.jsx(cs,{className:"w-4 h-4 text-green-600"}),"Monthly Income"]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-lg text-muted-foreground",children:(a==null?void 0:a.currency)==="USD"?"$":(a==null?void 0:a.currency)==="EUR"?"â‚¬":(a==null?void 0:a.currency)==="GBP"?"Â£":(a==null?void 0:a.currency)==="JPY"?"Â¥":"$"}),e.jsx(V,{type:"number",step:"0.01",min:"0",value:l.monthlyIncome,onChange:s=>D("monthlyIncome",s.target.value),placeholder:"5000",className:"h-12 pl-8 text-base bg-white dark:bg-slate-900","data-testid":"input-monthly-income"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4 text-orange-600"}),"Monthly Expenses"]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-lg text-muted-foreground",children:(a==null?void 0:a.currency)==="USD"?"$":(a==null?void 0:a.currency)==="EUR"?"â‚¬":(a==null?void 0:a.currency)==="GBP"?"Â£":(a==null?void 0:a.currency)==="JPY"?"Â¥":"$"}),e.jsx(V,{type:"number",step:"0.01",min:"0",value:l.monthlyExpenses,onChange:s=>D("monthlyExpenses",s.target.value),placeholder:"3000",className:"h-12 pl-8 text-base bg-white dark:bg-slate-900","data-testid":"input-monthly-expenses"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4 text-blue-600"}),"Current Savings"]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-lg text-muted-foreground",children:(a==null?void 0:a.currency)==="USD"?"$":(a==null?void 0:a.currency)==="EUR"?"â‚¬":(a==null?void 0:a.currency)==="GBP"?"Â£":(a==null?void 0:a.currency)==="JPY"?"Â¥":"$"}),e.jsx(V,{type:"number",step:"0.01",min:"0",value:l.currentSavings,onChange:s=>D("currentSavings",s.target.value),placeholder:"10000",className:"h-12 pl-8 text-base bg-white dark:bg-slate-900","data-testid":"input-current-savings"})]})]})]}),e.jsx(Y,{onClick:A,disabled:n.isPending,className:"w-full h-12 text-base bg-primary text-primary-foreground shadow-lg hover:shadow-xl transition-all font-semibold","data-testid":"button-save-financial-profile",children:n.isPending?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 w-5 h-5"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"mr-2 w-5 h-5"}),"Save Financial Profile"]})}),l.monthlyIncome&&l.monthlyExpenses&&e.jsx("div",{className:"bg-white dark:bg-gray-900 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:e.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-200",children:["Monthly Surplus: ",(a==null?void 0:a.currency)==="USD"?"$":"",(parseFloat(l.monthlyIncome)-parseFloat(l.monthlyExpenses)).toFixed(2)]})})]})]}),e.jsxs(y,{className:"border-2 border-yellow-200 dark:border-yellow-900/50 shadow-sm hover:shadow-md transition-shadow bg-white dark:bg-gray-900",children:[e.jsxs(k,{className:"p-4 sm:p-6",children:[e.jsxs(P,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(ne,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600"}),"Advanced Financial Features"]}),e.jsx(S,{className:"text-sm sm:text-base mt-1",children:"Enable cryptocurrency tracking and multi-currency wealth analysis"})]}),e.jsxs(j,{className:"p-4 sm:p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between min-h-[72px] p-4 sm:p-5 bg-white dark:bg-gray-900 rounded-xl border-2 border-yellow-300/50 dark:border-yellow-700/50",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3 sm:mb-0",children:[e.jsx("div",{className:"bg-yellow-200 dark:bg-yellow-900/50 p-2 rounded-lg flex-shrink-0",children:e.jsx(ne,{className:"text-yellow-700 dark:text-yellow-400 w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm sm:text-base text-slate-900 dark:text-white",children:"Enable Crypto Features"}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-0.5",children:"Track Bitcoin, gold, and alternative currencies"})]})]}),e.jsx(E,{"data-testid":"switch-crypto-enabled",checked:a.cryptoEnabled??!1,onCheckedChange:s=>n.mutate({cryptoEnabled:s}),disabled:n.isPending,className:"scale-110"})]}),a.cryptoEnabled&&e.jsxs("div",{className:"space-y-3 sm:space-y-4-50",children:[e.jsx("label",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300 block",children:"Experience Level"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[{value:"beginner",label:"Beginner",description:"Simple interface",icon:oe},{value:"intermediate",label:"Intermediate",description:"Standard tracking",icon:zs},{value:"advanced",label:"Advanced",description:"Full analytics",icon:ne}].map(s=>e.jsxs("button",{"data-testid":`experience-${s.value}`,onClick:()=>n.mutate({experienceLevel:s.value}),disabled:n.isPending,className:`min-h-[88px] p-4 rounded-xl border-2 transition-all ${a.experienceLevel===s.value?"border-yellow-600 bg-yellow-50 dark:bg-yellow-950/30 shadow-md":"border-slate-200 dark:border-slate-700 hover:border-yellow-400 dark:hover:border-yellow-600 bg-white dark:bg-slate-800/50"} ${n.isPending?"opacity-50 cursor-not-allowed":"cursor-pointer[1.02]"}`,children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(s.icon,{className:`w-5 h-5 sm:w-6 sm:h-6 ${a.experienceLevel===s.value?"text-yellow-600":"text-slate-400"}`})}),e.jsx("h4",{className:"font-semibold text-xs sm:text-sm text-slate-900 dark:text-white",children:s.label}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:s.description})]},s.value))})]})]})]}),e.jsx(y,{className:"border-slate-200 dark:border-slate-800 shadow-sm",children:e.jsx(j,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-base sm:text-lg text-slate-900 dark:text-white",children:"Save Preferences"}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-1",children:n.isPending?"Saving...":"Settings are saved automatically"})]}),e.jsx(Y,{"data-testid":"button-save-preferences",onClick:B,disabled:n.isPending,className:"w-full sm:w-auto h-12 sm:h-14 text-base bg-primary text-primary-foreground shadow-lg hover:shadow-xl transition-all font-semibold",children:n.isPending?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 w-5 h-5"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"mr-2 w-5 h-5"}),"Sync Settings"]})})]})})})]}):e.jsx("div",{className:"text-center p-8 sm:p-12",children:e.jsx("p",{className:"text-base sm:text-lg text-slate-600 dark:text-slate-400",children:"Failed to load preferences"})})}function ea({}){const{toast:t}=te(),{data:r,isLoading:l}=le({queryKey:["/api/financial-preferences"]}),i=O({mutationFn:d=>_("PUT","/api/financial-preferences",d),onSuccess:()=>{v.invalidateQueries({queryKey:["/api/financial-preferences"]}),t({title:"Financial preferences updated",description:"Your settings have been saved successfully."})},onError:()=>{t({title:"Error",description:"Failed to update financial preferences. Please try again.",variant:"destructive"})}}),a=[{value:"weekly",label:"Weekly",description:"Track spending week by week",icon:de},{value:"monthly",label:"Monthly",description:"Monthly budget cycles",icon:de},{value:"yearly",label:"Yearly",description:"Annual budget planning",icon:de}],x=[{value:"low",label:"Low Priority",color:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300"},{value:"medium",label:"Medium Priority",color:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},{value:"high",label:"High Priority",color:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300"}],n=[{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],u=d=>{i.mutate({defaultBudgetPeriod:d})},g=()=>{r&&i.mutate({autoSavingsEnabled:!r.autoSavingsEnabled})},o=d=>{i.mutate({autoSavingsAmount:d})},N=d=>{i.mutate({budgetWarningThreshold:d})},b=d=>{i.mutate({defaultGoalPriority:d})},f=d=>{i.mutate({autoSavingsFrequency:d})};return l?e.jsxs("div",{className:"flex items-center justify-center p-8 sm:p-12",children:[e.jsx(H,{className:"animate-spin mr-2 w-6 h-6 sm:w-8 sm:h-8 text-green-600"}),e.jsx("span",{className:"text-base sm:text-lg text-slate-600 dark:text-slate-400",children:"Loading financial preferences..."})]}):r?e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs(y,{className:"border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(k,{className:"p-4 sm:p-6",children:[e.jsxs(P,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(ae,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"}),"Budget Settings"]}),e.jsx(S,{className:"text-sm sm:text-base mt-1",children:"Configure your budget tracking and warning preferences"})]}),e.jsxs(j,{className:"p-4 sm:p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("h4",{className:"font-medium text-sm sm:text-base text-slate-700 dark:text-slate-300",children:"Default Budget Period"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:a.map(d=>e.jsxs("button",{"data-testid":`budget-period-${d.value}`,onClick:()=>u(d.value),disabled:i.isPending,className:`min-h-[88px] p-4 rounded-xl border-2 transition-all text-left ${r.defaultBudgetPeriod===d.value?"border-green-600 bg-green-50 dark:bg-green-950/30 shadow-md":"border-slate-200 dark:border-slate-700 hover:border-green-400 dark:hover:border-green-600 bg-white dark:bg-slate-800/50"} ${i.isPending?"opacity-50 cursor-not-allowed":"cursor-pointer[1.02]"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(d.icon,{className:`w-5 h-5 ${r.defaultBudgetPeriod===d.value?"text-green-600":"text-slate-400"}`}),e.jsx("h4",{className:"font-semibold text-sm sm:text-base text-slate-900 dark:text-white",children:d.label})]}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:d.description})]},d.value))})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("h4",{className:"font-medium text-sm sm:text-base text-slate-700 dark:text-slate-300",children:"Budget Warning Threshold"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex-1 w-full",children:e.jsx(V,{"data-testid":"input-warning-threshold",type:"number",min:"50",max:"100",value:r.budgetWarningThreshold,onChange:d=>N(parseInt(d.target.value)),disabled:i.isPending,className:"h-12 sm:h-14 text-base w-full bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-700"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"text-yellow-600 w-5 h-5"}),e.jsx("span",{className:"text-sm sm:text-base text-slate-600 dark:text-slate-400",children:"% of budget"})]})]}),e.jsxs("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:["Get notified when spending reaches ",r.budgetWarningThreshold,"% of your budget"]})]})]})]}),e.jsxs(y,{className:"border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(k,{className:"p-4 sm:p-6",children:[e.jsxs(P,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(os,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),"Auto-Savings Options"]}),e.jsx(S,{className:"text-sm sm:text-base mt-1",children:"Automatically save toward your financial goals"})]}),e.jsxs(j,{className:"p-4 sm:p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between min-h-[60px] p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"mb-3 sm:mb-0",children:[e.jsx("p",{className:"font-semibold text-sm sm:text-base text-slate-900 dark:text-white",children:"Enable Auto-Savings"}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:"Automatically save toward your goals"})]}),e.jsx(E,{"data-testid":"switch-auto-savings",checked:r.autoSavingsEnabled,onCheckedChange:g,disabled:i.isPending,className:"scale-110"})]}),r.autoSavingsEnabled&&e.jsx("div",{className:"space-y-4-50 border-l-4 border-blue-500 pl-4 ml-2",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300 block",children:"Auto-Savings Amount"}),e.jsx(V,{"data-testid":"input-auto-savings-amount",type:"number",min:"0",step:"0.01",value:r.autoSavingsAmount,onChange:d=>o(d.target.value),disabled:i.isPending,placeholder:"0.00",className:"h-12 sm:h-14 text-base w-full bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-700"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300 block",children:"Frequency"}),e.jsxs(F,{value:r.autoSavingsFrequency,onValueChange:f,disabled:i.isPending,children:[e.jsx(M,{className:"h-12 sm:h-14 text-base bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-700","data-testid":"select-savings-frequency",children:e.jsx(I,{})}),e.jsx(L,{children:n.map(d=>e.jsx(h,{value:d.value,children:d.label},d.value))})]})]})]})})]})]}),e.jsxs(y,{className:"border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(k,{className:"p-4 sm:p-6",children:[e.jsxs(P,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(ce,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),"Goal Defaults"]}),e.jsx(S,{className:"text-sm sm:text-base mt-1",children:"Set default priority level for new financial goals"})]}),e.jsx(j,{className:"p-4 sm:p-6 space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300 block",children:"Default Goal Priority"}),e.jsxs(F,{value:r.defaultGoalPriority,onValueChange:b,disabled:i.isPending,children:[e.jsx(M,{className:"h-12 sm:h-14 text-base bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-700","data-testid":"select-goal-priority",children:e.jsx(I,{})}),e.jsx(L,{children:x.map(d=>e.jsx(h,{value:d.value,children:e.jsx("div",{className:"flex items-center py-1",children:e.jsx($s,{className:`${d.color} font-medium`,children:d.label})})},d.value))})]})]})})]})]}):e.jsx("div",{className:"text-center p-8 sm:p-12",children:e.jsx("p",{className:"text-base sm:text-lg text-slate-600 dark:text-slate-400",children:"Failed to load financial preferences"})})}var Ae="AlertDialog",[sa]=ge(Ae,[ve]),$=ve(),Ee=t=>{const{__scopeAlertDialog:r,...l}=t,i=$(r);return e.jsx(ms,{...i,...l,modal:!0})};Ee.displayName=Ae;var aa="AlertDialogTrigger",ta=c.forwardRef((t,r)=>{const{__scopeAlertDialog:l,...i}=t,a=$(l);return e.jsx(vs,{...a,...i,ref:r})});ta.displayName=aa;var la="AlertDialogPortal",Te=t=>{const{__scopeAlertDialog:r,...l}=t,i=$(r);return e.jsx(xs,{...i,...l})};Te.displayName=la;var ra="AlertDialogOverlay",Re=c.forwardRef((t,r)=>{const{__scopeAlertDialog:l,...i}=t,a=$(l);return e.jsx(fs,{...a,...i,ref:r})});Re.displayName=ra;var q="AlertDialogContent",[ia,na]=sa(q),da=ps("AlertDialogContent"),Fe=c.forwardRef((t,r)=>{const{__scopeAlertDialog:l,children:i,...a}=t,x=$(l),n=c.useRef(null),u=me(r,n),g=c.useRef(null);return e.jsx(us,{contentName:q,titleName:Me,docsSlug:"alert-dialog",children:e.jsx(ia,{scope:l,cancelRef:g,children:e.jsxs(hs,{role:"alertdialog",...x,...a,ref:u,onOpenAutoFocus:fe(a.onOpenAutoFocus,o=>{var N;o.preventDefault(),(N=g.current)==null||N.focus({preventScroll:!0})}),onPointerDownOutside:o=>o.preventDefault(),onInteractOutside:o=>o.preventDefault(),children:[e.jsx(da,{children:i}),e.jsx(oa,{contentRef:n})]})})})});Fe.displayName=q;var Me="AlertDialogTitle",Ie=c.forwardRef((t,r)=>{const{__scopeAlertDialog:l,...i}=t,a=$(l);return e.jsx(gs,{...a,...i,ref:r})});Ie.displayName=Me;var Le="AlertDialogDescription",$e=c.forwardRef((t,r)=>{const{__scopeAlertDialog:l,...i}=t,a=$(l);return e.jsx(bs,{...a,...i,ref:r})});$e.displayName=Le;var ca="AlertDialogAction",Ue=c.forwardRef((t,r)=>{const{__scopeAlertDialog:l,...i}=t,a=$(l);return e.jsx(ye,{...a,...i,ref:r})});Ue.displayName=ca;var Ve="AlertDialogCancel",Be=c.forwardRef((t,r)=>{const{__scopeAlertDialog:l,...i}=t,{cancelRef:a}=na(Ve,l),x=$(l),n=me(r,a);return e.jsx(ye,{...x,...i,ref:n})});Be.displayName=Ve;var oa=({contentRef:t})=>{const r=`\`${q}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${q}\` by passing a \`${Le}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${q}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{var i;document.getElementById((i=t.current)==null?void 0:i.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},ma=Ee,xa=Te,Oe=Re,_e=Fe,He=Ue,Ye=Be,We=Ie,qe=$e;const ua=ma,ha=xa,ze=c.forwardRef(({className:t,...r},l)=>e.jsx(Oe,{className:T("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:l}));ze.displayName=Oe.displayName;const Ge=c.forwardRef(({className:t,...r},l)=>e.jsxs(ha,{children:[e.jsx(ze,{}),e.jsx(_e,{ref:l,className:T("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]}));Ge.displayName=_e.displayName;const Ke=({className:t,...r})=>e.jsx("div",{className:T("flex flex-col space-y-2 text-center sm:text-left",t),...r});Ke.displayName="AlertDialogHeader";const Qe=({className:t,...r})=>e.jsx("div",{className:T("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});Qe.displayName="AlertDialogFooter";const Je=c.forwardRef(({className:t,...r},l)=>e.jsx(We,{ref:l,className:T("text-lg font-semibold",t),...r}));Je.displayName=We.displayName;const Ze=c.forwardRef(({className:t,...r},l)=>e.jsx(qe,{ref:l,className:T("text-sm text-muted-foreground",t),...r}));Ze.displayName=qe.displayName;const Xe=c.forwardRef(({className:t,...r},l)=>e.jsx(He,{ref:l,className:T(je(),t),...r}));Xe.displayName=He.displayName;const es=c.forwardRef(({className:t,...r},l)=>e.jsx(Ye,{ref:l,className:T(je({variant:"outline"}),"mt-2 sm:mt-0",t),...r}));es.displayName=Ye.displayName;function pa({}){const{toast:t}=te(),[r,l]=c.useState(!1),[i,a]=c.useState(""),{data:x,isLoading:n}=le({queryKey:["/api/privacy-settings"]}),u=O({mutationFn:s=>_("PUT","/api/privacy-settings",s),onSuccess:()=>{v.invalidateQueries({queryKey:["/api/privacy-settings"]}),t({title:"Privacy settings updated",description:"Your privacy preferences have been saved."})},onError:()=>{t({title:"Error",description:"Failed to update privacy settings. Please try again.",variant:"destructive"})}}),g=O({mutationFn:s=>_("GET",`/api/export-data?format=${s}`),onSuccess:async(s,p)=>{const w=await s.blob(),m=window.URL.createObjectURL(w),U=document.createElement("a");U.style.display="none",U.href=m,U.download=`twealth-data-${new Date().toISOString().split("T")[0]}.${p}`,document.body.appendChild(U),U.click(),window.URL.revokeObjectURL(m),document.body.removeChild(U),t({title:"Data exported successfully",description:`Your data has been downloaded as ${p.toUpperCase()} file.`})},onError:()=>{t({title:"Export failed",description:"Failed to export your data. Please try again.",variant:"destructive"})}}),o=O({mutationFn:()=>_("DELETE","/api/delete-user-data",{confirmation:"DELETE"}),onSuccess:()=>{t({title:"Account deleted",description:"Your account and all associated data have been permanently deleted.",variant:"destructive"})},onError:()=>{t({title:"Deletion failed",description:"Failed to delete account. Please contact support.",variant:"destructive"})}}),N=[{value:30,label:"30 days"},{value:90,label:"90 days"},{value:180,label:"6 months"},{value:365,label:"1 year"},{value:730,label:"2 years"}],b=[{value:"private",label:"Private",description:"Only you can see your profile",icon:Us},{value:"friends",label:"Friends",description:"Only friends can see your profile",icon:oe},{value:"public",label:"Public",description:"Anyone can see your profile",icon:Ys}],f=s=>{x&&u.mutate({[s]:!x[s]})},d=s=>{u.mutate({dataRetentionPeriod:s})},R=s=>{u.mutate({profileVisibility:s})},C=s=>{g.mutate(s)},D=()=>{l(!0),a("")},A=()=>{i==="DELETE"?(o.mutate(),l(!1),a("")):t({title:"Confirmation required",description:"Please type DELETE to confirm account deletion.",variant:"destructive"})},B=()=>{l(!1),a(""),t({title:"Deletion cancelled",description:"Account deletion was cancelled. Your data is safe."})};return n?e.jsx("div",{className:"space-y-4 sm:space-y-6",children:[...Array(3)].map((s,p)=>e.jsx(ys,{},p))}):x?e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs(y,{className:"border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(k,{className:"p-4 sm:p-6",children:[e.jsxs(P,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(Ne,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),"Privacy Controls"]}),e.jsx(S,{className:"text-sm sm:text-base mt-1",children:"Manage your data sharing and privacy preferences"})]}),e.jsxs(j,{className:"p-4 sm:p-6 space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between min-h-[60px] p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3 sm:mb-0",children:[e.jsx(oe,{className:"text-blue-600 w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm sm:text-base text-slate-900 dark:text-white",children:"Allow Analytics"}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:"Help improve the app with usage analytics"})]})]}),e.jsx(E,{"data-testid":"switch-allow-analytics",checked:x.allowAnalytics,onCheckedChange:()=>f("allowAnalytics"),disabled:u.isPending,className:"scale-110"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between min-h-[60px] p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3 sm:mb-0",children:[e.jsx(he,{className:"text-green-600 w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm sm:text-base text-slate-900 dark:text-white",children:"Allow Cookies"}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:"Store preferences and session data"})]})]}),e.jsx(E,{"data-testid":"switch-allow-cookies",checked:x.allowCookies,onCheckedChange:()=>f("allowCookies"),disabled:u.isPending,className:"scale-110"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between min-h-[60px] p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3 sm:mb-0",children:[e.jsx(se,{className:"text-orange-600 w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm sm:text-base text-slate-900 dark:text-white",children:"Share Data with Partners"}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:"Share anonymized data for insights"})]})]}),e.jsx(E,{"data-testid":"switch-share-data",checked:x.shareDataWithPartners,onCheckedChange:()=>f("shareDataWithPartners"),disabled:u.isPending,className:"scale-110"})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4 pt-4",children:[e.jsx("h4",{className:"font-medium text-sm sm:text-base text-slate-700 dark:text-slate-300",children:"Profile Visibility"}),e.jsxs(F,{value:x.profileVisibility,onValueChange:R,disabled:u.isPending,children:[e.jsx(M,{className:"h-12 sm:h-14 text-base bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-700","data-testid":"select-profile-visibility",children:e.jsx(I,{})}),e.jsx(L,{children:b.map(s=>e.jsx(h,{value:s.value,children:e.jsxs("div",{className:"flex items-center gap-2 py-1",children:[e.jsx(s.icon,{className:"w-4 h-4 text-slate-600 dark:text-slate-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm sm:text-base",children:s.label}),e.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:s.description})]})]})},s.value))})]})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4 pt-4",children:[e.jsx("h4",{className:"font-medium text-sm sm:text-base text-slate-700 dark:text-slate-300",children:"Data Retention Period"}),e.jsxs(F,{value:x.dataRetentionPeriod.toString(),onValueChange:s=>d(parseInt(s)),disabled:u.isPending,children:[e.jsx(M,{className:"h-12 sm:h-14 text-base bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-700","data-testid":"select-retention-period",children:e.jsx(I,{})}),e.jsx(L,{children:N.map(s=>e.jsx(h,{value:s.value.toString(),children:s.label},s.value))})]}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:"Automatically delete inactive data after this period"})]})]})]}),e.jsxs(y,{className:"border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(k,{className:"p-4 sm:p-6",children:[e.jsxs(P,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(js,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),"Data Export"]}),e.jsx(S,{className:"text-sm sm:text-base mt-1",children:"Download a copy of your personal data"})]}),e.jsxs(j,{className:"p-4 sm:p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs(Y,{"data-testid":"button-export-json",onClick:()=>C("json"),disabled:g.isPending,variant:"outline",className:"h-12 sm:h-14 text-base font-medium border-slate-300 dark:border-slate-700 hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-950/30",children:[e.jsx(Vs,{className:"mr-2 w-5 h-5"}),g.isPending?"Exporting...":"Download JSON"]}),e.jsxs(Y,{"data-testid":"button-export-csv",onClick:()=>C("csv"),disabled:g.isPending,variant:"outline",className:"h-12 sm:h-14 text-base font-medium border-slate-300 dark:border-slate-700 hover:border-green-500 hover:bg-green-50 dark:hover:bg-green-950/30",children:[e.jsx(he,{className:"mr-2 w-5 h-5"}),g.isPending?"Exporting...":"Download CSV"]})]}),x.lastDataExport&&e.jsxs("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:["Last export: ",new Date(x.lastDataExport).toLocaleDateString()]})]})]}),e.jsxs(y,{className:"border-2 border-red-200 dark:border-red-900/50 shadow-sm bg-white dark:bg-gray-900",children:[e.jsxs(k,{className:"p-4 sm:p-6",children:[e.jsxs(P,{className:"flex items-center gap-2 text-lg sm:text-xl text-red-700 dark:text-red-400",children:[e.jsx(se,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Danger Zone"]}),e.jsx(S,{className:"text-sm sm:text-base mt-1",children:"Irreversible actions that permanently delete your data"})]}),e.jsx(j,{className:"p-4 sm:p-6",children:e.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 border-2 border-red-300 dark:border-red-800 rounded-xl p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-base sm:text-lg text-red-900 dark:text-red-200 mb-2",children:"Delete Account"}),e.jsx("p",{className:"text-xs sm:text-sm text-red-800 dark:text-red-300 mb-1",children:"Permanently delete your account and all associated data. This action cannot be undone."}),e.jsx("p",{className:"text-xs text-red-700 dark:text-red-400",children:"All goals, transactions, events, and preferences will be permanently removed."})]}),e.jsxs(Y,{"data-testid":"button-delete-account",onClick:D,disabled:o.isPending,variant:"destructive",className:"w-full sm:w-auto h-12 sm:h-14 text-base font-semibold bg-red-600 hover:bg-red-700 shadow-lg",children:[e.jsx(Os,{className:"mr-2 w-5 h-5"}),o.isPending?"Deleting...":"Delete Account"]})]})})})]}),e.jsx(ua,{open:r,onOpenChange:l,children:e.jsxs(Ge,{className:"max-w-md",children:[e.jsxs(Ke,{children:[e.jsxs(Je,{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[e.jsx(se,{className:"w-5 h-5"}),"Delete Your Account"]}),e.jsxs(Ze,{className:"text-left space-y-4",children:[e.jsx("p",{className:"font-semibold text-red-700 dark:text-red-300",children:"This action will PERMANENTLY DELETE your entire account and all associated data including:"}),e.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1 text-slate-600 dark:text-slate-400",children:[e.jsx("li",{children:"All financial goals and transactions"}),e.jsx("li",{children:"All events and time tracking data"}),e.jsx("li",{children:"All groups and memberships"}),e.jsx("li",{children:"All user preferences and settings"}),e.jsx("li",{children:"All notification history"})]}),e.jsx("p",{className:"font-bold text-red-700 dark:text-red-300",children:"This action CANNOT be undone!"}),e.jsxs("div",{className:"pt-2",children:[e.jsx(Ns,{htmlFor:"delete-confirmation",className:"text-sm font-medium",children:"Type DELETE to confirm:"}),e.jsx(V,{id:"delete-confirmation","data-testid":"input-delete-confirmation",value:i,onChange:s=>a(s.target.value),placeholder:"DELETE",className:"mt-2 border-red-200 dark:border-red-800 focus:border-red-500"})]})]})]}),e.jsxs(Qe,{className:"gap-2",children:[e.jsx(es,{onClick:B,"data-testid":"button-cancel-delete",children:"Cancel"}),e.jsx(Xe,{onClick:A,disabled:i!=="DELETE"||o.isPending,className:"bg-red-600 hover:bg-red-700 text-white disabled:opacity-50","data-testid":"button-confirm-delete",children:o.isPending?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-4 h-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete Account"})]})]})})]}):e.jsx("div",{className:"text-center p-8 sm:p-12",children:e.jsx("p",{className:"text-base sm:text-lg text-slate-600 dark:text-slate-400",children:"Failed to load privacy settings"})})}const ga=Cs({hourlyRate:re().min(1,"Hourly rate is required").refine(t=>!isNaN(Number(t))&&Number(t)>0,"Hourly rate must be a positive number"),currency:re().min(1,"Currency is required"),workHoursPerWeek:re().min(1,"Work hours per week is required").refine(t=>!isNaN(Number(t))&&Number(t)>0&&Number(t)<=168,"Work hours must be between 1 and 168 hours per week"),timeValueStrategy:Fs(["fixed","derived"],{required_error:"Please select a time value strategy"})});function Ma(){var p,w;const{t}=ws(),{toast:r}=te(),[l,i]=c.useState(!1),[a,x]=c.useState("account"),[,n]=ks(),u=O({mutationFn:async()=>await _("POST","/api/auth/logout",{}),onSuccess:()=>{v.invalidateQueries({queryKey:["/api/auth/user"]}),v.invalidateQueries({queryKey:["/api/auth/status"]}),v.clear(),r({title:"Signed out securely",description:"You have been logged out successfully"}),setTimeout(()=>{n("/login")},100)},onError:m=>{r({title:"Logout failed",description:m.message||"Please try again",variant:"destructive"})}}),g=()=>{u.mutate()},{data:o,isLoading:N}=le({queryKey:["/api/user-settings"],enabled:!0}),b=Ps({resolver:Ss(ga),defaultValues:{hourlyRate:"50",currency:"USD",workHoursPerWeek:"40",timeValueStrategy:"fixed"},values:o?{hourlyRate:((p=o.hourlyRate)==null?void 0:p.toString())||"50",currency:o.currency||"USD",workHoursPerWeek:((w=o.workHoursPerWeek)==null?void 0:w.toString())||"40",timeValueStrategy:o.timeValueStrategy||"fixed"}:void 0}),f=O({mutationFn:async m=>{const U={hourlyRate:parseFloat(m.hourlyRate),currency:m.currency,workHoursPerWeek:parseInt(m.workHoursPerWeek),timeValueStrategy:m.timeValueStrategy};return _(o?"PUT":"POST","/api/user-settings",U)},onSuccess:()=>{v.invalidateQueries({queryKey:["/api/user-settings"]}),v.invalidateQueries({queryKey:["/api/insights/time-value"]}),v.invalidateQueries({queryKey:["/api/dashboard/time-stats"]}),r({title:"Settings Updated!",description:"Your time-value preferences have been saved successfully.",icon:e.jsx(As,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),i(!1)},onError:m=>{r({title:"Update Failed",description:"Failed to save your settings. Please try again.",variant:"destructive",icon:e.jsx(Ds,{className:"h-5 w-5"})}),i(!1)}}),d=async m=>{i(!0),f.mutate(m)},R=parseFloat(b.watch("hourlyRate")||"0"),C=parseInt(b.watch("workHoursPerWeek")||"0"),D=b.watch("currency")||"USD",A=R*C/5,B=R*C*4.33,s=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:D,minimumFractionDigits:2,maximumFractionDigits:2}).format(m);return N?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border/40 sticky top-0 z-30",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 xl:px-12 py-6",children:[e.jsx("div",{className:"h-8 bg-muted/50 rounded w-32 mb-2"}),e.jsx("div",{className:"h-4 bg-muted/50 rounded w-48"})]})}),e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 xl:px-12 py-8",children:[e.jsx("div",{className:"h-12 bg-muted/50 rounded-lg w-full max-w-lg mb-8"}),e.jsx("div",{className:"h-96 bg-muted/50 rounded-xl"})]})]}):e.jsxs("div",{className:"min-h-screen-mobile bg-background pb-20 md:pb-0",children:[e.jsx("header",{className:"bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border/40 sticky top-0 z-30",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-3 sm:py-4 lg:py-6",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl xl:text-3xl font-semibold tracking-tight text-foreground",children:t("settings.title","Settings")}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5 sm:mt-1 hidden sm:block",children:t("settings.subtitle","Manage your account and preferences")})]}),e.jsxs(Y,{variant:"outline",size:"sm",onClick:g,disabled:u.isPending,className:"text-red-600 dark:text-red-400 border-red-200 dark:border-red-900 hover:bg-red-50 dark:hover:bg-red-950 min-h-[44px] touch-target","data-testid":"button-logout",children:[u.isPending?e.jsx(H,{className:"w-4 h-4 sm:mr-2 animate-spin"}):e.jsx(Es,{className:"w-4 h-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Sign out"})]})]})})}),e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:e.jsxs(Is,{value:a,onValueChange:x,className:"w-full",children:[e.jsxs(Ls,{className:"grid w-full grid-cols-2 sm:grid-cols-4 mb-4 sm:mb-6 lg:mb-8 p-1 h-auto bg-muted/50",children:[e.jsxs(X,{value:"account",className:"flex items-center justify-center gap-1.5 sm:gap-2 py-2.5 sm:py-3 text-xs sm:text-sm font-medium min-h-[44px] touch-target","data-testid":"tab-account",children:[e.jsx(Ts,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Account"})]}),e.jsxs(X,{value:"preferences",className:"flex items-center justify-center gap-1.5 sm:gap-2 py-2.5 sm:py-3 text-xs sm:text-sm font-medium min-h-[44px] touch-target","data-testid":"tab-preferences",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Preferences"})]}),e.jsxs(X,{value:"financial",className:"flex items-center justify-center gap-1.5 sm:gap-2 py-2.5 sm:py-3 text-xs sm:text-sm font-medium min-h-[44px] touch-target","data-testid":"tab-financial",children:[e.jsx(_s,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Financial"})]}),e.jsxs(X,{value:"privacy",className:"flex items-center justify-center gap-1.5 sm:gap-2 py-2.5 sm:py-3 text-xs sm:text-sm font-medium min-h-[44px] touch-target","data-testid":"tab-privacy",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Privacy"})]})]}),e.jsx(ee,{value:"account",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(y,{className:"border-border/50",children:[e.jsxs(k,{className:"p-6",children:[e.jsx(P,{className:"text-lg font-semibold",children:"Time Value Configuration"}),e.jsx(S,{children:"Set your hourly rate and work schedule for time-value calculations"})]}),e.jsx(j,{className:"p-6 pt-0",children:e.jsx(Ms,{...b,children:e.jsxs("form",{onSubmit:b.handleSubmit(d),className:"space-y-6",children:[e.jsx(z,{control:b.control,name:"hourlyRate",render:({field:m})=>e.jsxs(G,{children:[e.jsx(K,{className:"text-sm font-medium",children:"Hourly Rate"}),e.jsx(Q,{children:e.jsxs("div",{className:"relative",children:[e.jsx(V,{...m,type:"number",step:"0.01",min:"0",placeholder:"50.00",className:"h-11 pl-9","data-testid":"input-hourly-rate"}),e.jsx(ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"})]})}),e.jsx(J,{className:"text-xs",children:"The monetary value of one hour of your time"}),e.jsx(Z,{})]})}),e.jsx(z,{control:b.control,name:"currency",render:({field:m})=>e.jsxs(G,{children:[e.jsx(K,{className:"text-sm font-medium",children:"Currency"}),e.jsxs(F,{onValueChange:m.onChange,defaultValue:m.value,value:m.value,children:[e.jsx(Q,{children:e.jsx(M,{className:"h-11","data-testid":"select-currency",children:e.jsx(I,{placeholder:"Select currency"})})}),e.jsxs(L,{children:[e.jsx(h,{value:"USD",children:"USD ($)"}),e.jsx(h,{value:"THB",children:"THB (à¸¿)"}),e.jsx(h,{value:"EUR",children:"EUR (â‚¬)"}),e.jsx(h,{value:"IDR",children:"IDR (Rp)"}),e.jsx(h,{value:"VND",children:"VND (â‚«)"}),e.jsx(h,{value:"INR",children:"INR (â‚¹)"}),e.jsx(h,{value:"PHP",children:"PHP (â‚±)"}),e.jsx(h,{value:"BRL",children:"BRL (R$)"}),e.jsx(h,{value:"MYR",children:"MYR (RM)"}),e.jsx(h,{value:"MXN",children:"MXN ($)"}),e.jsx(h,{value:"TRY",children:"TRY (â‚º)"}),e.jsx(h,{value:"GBP",children:"GBP (Â£)"}),e.jsx(h,{value:"JPY",children:"JPY (Â¥)"}),e.jsx(h,{value:"CAD",children:"CAD (C$)"}),e.jsx(h,{value:"AUD",children:"AUD (A$)"})]})]}),e.jsx(J,{className:"text-xs",children:"Your preferred currency for financial calculations"}),e.jsx(Z,{})]})}),e.jsx(z,{control:b.control,name:"workHoursPerWeek",render:({field:m})=>e.jsxs(G,{children:[e.jsx(K,{className:"text-sm font-medium",children:"Work Hours Per Week"}),e.jsx(Q,{children:e.jsxs("div",{className:"relative",children:[e.jsx(V,{...m,type:"number",min:"1",max:"168",placeholder:"40",className:"h-11 pl-9","data-testid":"input-work-hours"}),e.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"})]})}),e.jsx(J,{className:"text-xs",children:"Your typical working hours per week"}),e.jsx(Z,{})]})}),e.jsx(z,{control:b.control,name:"timeValueStrategy",render:({field:m})=>e.jsxs(G,{children:[e.jsx(K,{className:"text-sm font-medium",children:"Time Value Strategy"}),e.jsxs(F,{onValueChange:m.onChange,defaultValue:m.value,value:m.value,children:[e.jsx(Q,{children:e.jsx(M,{className:"h-11","data-testid":"select-time-strategy",children:e.jsx(I,{placeholder:"Select strategy"})})}),e.jsxs(L,{children:[e.jsx(h,{value:"fixed",children:"Fixed Rate"}),e.jsx(h,{value:"derived",children:"Context-Derived"})]})]}),e.jsx(J,{className:"text-xs",children:"How time value should be calculated for different events"}),e.jsx(Z,{})]})}),e.jsx(Y,{type:"submit",className:"w-full h-11",disabled:l,"data-testid":"button-save-settings",children:l?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Bs,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]})})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(y,{className:"border-border/50",children:[e.jsx(k,{className:"p-6",children:e.jsx(P,{className:"text-lg font-semibold",children:"Time Value Preview"})}),e.jsx(j,{className:"p-6 pt-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 rounded-lg bg-muted/50",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Per Hour"}),e.jsx("span",{className:"text-lg font-semibold","data-testid":"text-preview-hourly",children:s(R)})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 rounded-lg bg-muted/50",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Per Day"}),e.jsx("span",{className:"text-lg font-semibold","data-testid":"text-preview-daily",children:s(A)})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 rounded-lg bg-muted/50",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Per Month"}),e.jsx("span",{className:"text-lg font-semibold","data-testid":"text-preview-monthly",children:s(B)})]})]})})]}),e.jsxs(y,{className:"border-border/50",children:[e.jsx(k,{className:"p-6",children:e.jsxs(P,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Rs,{className:"w-4 h-4 text-muted-foreground"}),"Strategy Guide"]})}),e.jsxs(j,{className:"p-6 pt-0 space-y-4 text-sm",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50",children:[e.jsx("h4",{className:"font-medium mb-1",children:"Fixed Rate"}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Uses your hourly rate consistently. Best for freelancers and consultants."})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50",children:[e.jsx("h4",{className:"font-medium mb-1",children:"Context-Derived"}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Adjusts value based on event type and meeting importance."})]})]})]})]})]})}),e.jsx(ee,{value:"preferences",className:"space-y-6",children:e.jsx(Xs,{})}),e.jsx(ee,{value:"financial",className:"space-y-6",children:e.jsx(ea,{})}),e.jsx(ee,{value:"privacy",className:"space-y-6",children:e.jsx(pa,{})})]})})]})}export{Ma as default};
