import{c as gt,r as u,a as Be,u as pt,j as e,R as ft,b as bt,d as jt,e as Ue,P as Ye,f as X,A as We,g as He,h as yt,i as vt,k as Nt,l as wt,m as kt,F as At,D as Ct,C as St,n as Ft,o as G,p as we,q as ue,s as ge,t as pe,v as fe,w as be,x as je,T as Pt,G as Tt,y as C,z as q,B as L,E as T,H as v,I as ce,X as Ze,J as Je,W as It,K as D,L as _e,M as qe,N as Xe,O as S,Q as oe,S as ie,U as le,V as F,Y as J,Z as H,_ as Le,$ as Ot,a0 as Rt,a1 as Dt,a2 as $t,a3 as M,a4 as de,a5 as _,a6 as et,a7 as Mt,a8 as Et,a9 as Gt,aa as Ke,ab as _t,ac as R,ad as ye}from"./index-NNgTI0RQ.js";import{B as xe}from"./badge-D7Q8E7hz.js";import{S as qt}from"./scroll-area-BXgXk91y.js";import{A as Lt}from"./add-funds-form-GVHq_cWS.js";import{B as me}from"./bell-B71JwlkR.js";import{A as ee}from"./index-BV8oB33o.js";import{m as j}from"./proxy-C8xz_zGI.js";import{S as te}from"./sparkles-yxnOzOhM.js";import{L as Kt}from"./lightbulb-DBIXkFLe.js";import{T as se}from"./trophy-DkSOE-LA.js";import{P as ve}from"./progress-COOXQNiG.js";import{F as ze,a as z,b as Q,c as V,d as B,e as U}from"./form-DeqjsDZl.js";import{T as ae}from"./trending-up-BnP5NHLE.js";import{P as ke}from"./piggy-bank-Bku1OXn_.js";import{R as zt}from"./rocket-DI11t3VL.js";import{A as $}from"./arrow-right-l9D0Ocf3.js";import{A as Qe}from"./arrow-left-CwkJQlvl.js";import{c as Qt}from"./confetti.module-B5JVzsfH.js";import{Z as Ae}from"./zap-jVm97dbR.js";import{A as Ce}from"./award-cHD21S_y.js";import{S as Ne}from"./star-DAdPyuou.js";import{A as Vt,a as Bt}from"./arrow-up-right-CEJk2rBh.js";import"./textarea-CFY__GU9.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=gt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);var Se="Popover",[st]=bt(Se,[Be]),re=Be(),[Ut,E]=st(Se),at=r=>{const{__scopePopover:o,children:l,open:s,defaultOpen:t,onOpenChange:d,modal:c=!1}=r,a=re(o),p=u.useRef(null),[g,h]=u.useState(!1),[f=!1,b]=pt({prop:s,defaultProp:t,onChange:d});return e.jsx(ft,{...a,children:e.jsx(Ut,{scope:o,contentId:jt(),triggerRef:p,open:f,onOpenChange:b,onOpenToggle:u.useCallback(()=>b(N=>!N),[b]),hasCustomAnchor:g,onCustomAnchorAdd:u.useCallback(()=>h(!0),[]),onCustomAnchorRemove:u.useCallback(()=>h(!1),[]),modal:c,children:l})})};at.displayName=Se;var rt="PopoverAnchor",Yt=u.forwardRef((r,o)=>{const{__scopePopover:l,...s}=r,t=E(rt,l),d=re(l),{onCustomAnchorAdd:c,onCustomAnchorRemove:a}=t;return u.useEffect(()=>(c(),()=>a()),[c,a]),e.jsx(We,{...d,...s,ref:o})});Yt.displayName=rt;var nt="PopoverTrigger",ot=u.forwardRef((r,o)=>{const{__scopePopover:l,...s}=r,t=E(nt,l),d=re(l),c=Ue(o,t.triggerRef),a=e.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":mt(t.open),...s,ref:c,onClick:X(r.onClick,t.onOpenToggle)});return t.hasCustomAnchor?a:e.jsx(We,{asChild:!0,...d,children:a})});ot.displayName=nt;var Fe="PopoverPortal",[Wt,Ht]=st(Fe,{forceMount:void 0}),it=r=>{const{__scopePopover:o,forceMount:l,children:s,container:t}=r,d=E(Fe,o);return e.jsx(Wt,{scope:o,forceMount:l,children:e.jsx(He,{present:l||d.open,children:e.jsx(yt,{asChild:!0,container:t,children:s})})})};it.displayName=Fe;var Y="PopoverContent",lt=u.forwardRef((r,o)=>{const l=Ht(Y,r.__scopePopover),{forceMount:s=l.forceMount,...t}=r,d=E(Y,r.__scopePopover);return e.jsx(He,{present:s||d.open,children:d.modal?e.jsx(Jt,{...t,ref:o}):e.jsx(Xt,{...t,ref:o})})});lt.displayName=Y;var Zt=wt("PopoverContent.RemoveScroll"),Jt=u.forwardRef((r,o)=>{const l=E(Y,r.__scopePopover),s=u.useRef(null),t=Ue(o,s),d=u.useRef(!1);return u.useEffect(()=>{const c=s.current;if(c)return vt(c)},[]),e.jsx(Nt,{as:Zt,allowPinchZoom:!0,children:e.jsx(dt,{...r,ref:t,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(r.onCloseAutoFocus,c=>{var a;c.preventDefault(),d.current||(a=l.triggerRef.current)==null||a.focus()}),onPointerDownOutside:X(r.onPointerDownOutside,c=>{const a=c.detail.originalEvent,p=a.button===0&&a.ctrlKey===!0,g=a.button===2||p;d.current=g},{checkForDefaultPrevented:!1}),onFocusOutside:X(r.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Xt=u.forwardRef((r,o)=>{const l=E(Y,r.__scopePopover),s=u.useRef(!1),t=u.useRef(!1);return e.jsx(dt,{...r,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var c,a;(c=r.onCloseAutoFocus)==null||c.call(r,d),d.defaultPrevented||(s.current||(a=l.triggerRef.current)==null||a.focus(),d.preventDefault()),s.current=!1,t.current=!1},onInteractOutside:d=>{var p,g;(p=r.onInteractOutside)==null||p.call(r,d),d.defaultPrevented||(s.current=!0,d.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const c=d.target;((g=l.triggerRef.current)==null?void 0:g.contains(c))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&t.current&&d.preventDefault()}})}),dt=u.forwardRef((r,o)=>{const{__scopePopover:l,trapFocus:s,onOpenAutoFocus:t,onCloseAutoFocus:d,disableOutsidePointerEvents:c,onEscapeKeyDown:a,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:h,...f}=r,b=E(Y,l),N=re(l);return kt(),e.jsx(At,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:t,onUnmountAutoFocus:d,children:e.jsx(Ct,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:p,onFocusOutside:g,onDismiss:()=>b.onOpenChange(!1),children:e.jsx(St,{"data-state":mt(b.open),role:"dialog",id:b.contentId,...N,...f,ref:o,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ct="PopoverClose",es=u.forwardRef((r,o)=>{const{__scopePopover:l,...s}=r,t=E(ct,l);return e.jsx(Ye.button,{type:"button",...s,ref:o,onClick:X(r.onClick,()=>t.onOpenChange(!1))})});es.displayName=ct;var ts="PopoverArrow",ss=u.forwardRef((r,o)=>{const{__scopePopover:l,...s}=r,t=re(l);return e.jsx(Ft,{...t,...s,ref:o})});ss.displayName=ts;function mt(r){return r?"open":"closed"}var as=at,rs=ot,ns=it,xt=lt;const os=as,is=rs,ut=u.forwardRef(({className:r,align:o="center",sideOffset:l=4,...s},t)=>e.jsx(ns,{children:e.jsx(xt,{ref:t,align:o,sideOffset:l,className:G("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",r),...s})}));ut.displayName=xt.displayName;function ls({children:r}){const[o,l]=u.useState(!1),[s,t]=u.useState(!1),[d,c]=u.useState(!1),[a,p]=u.useState(null),[g,h]=u.useState(null),[f,b]=u.useState(null),[,N]=we(),{toast:y}=ue(),m={openTransactionForm:i=>{h(i),l(!0)},openGoalForm:i=>{b(i),t(!0)},openAddFundsForm:(i,x,w,A)=>{p({goalId:i,goalTitle:x,currentAmount:w,targetAmount:A}),c(!0)},navigateToTransactions:i=>{N(i?`/money-tracking?category=${i}`:"/money-tracking"),y({title:"Navigating to Transactions",description:i?`Showing ${i} transactions`:"Viewing all transactions"})},navigateToGoal:i=>{N("/financial-goals"),y({title:"Navigating to Goal",description:"Opening financial goals page"})}},P=()=>{l(!1),h(null),y({title:"Transaction Added",description:"Your transaction has been recorded successfully."})},I=()=>{t(!1),b(null),y({title:"Goal Created",description:"Your financial goal has been created successfully."})},n=()=>{c(!1),p(null)};return e.jsxs(e.Fragment,{children:[r(m),e.jsx(ge,{open:o,onOpenChange:l,children:e.jsxs(pe,{className:"max-w-lg",children:[e.jsxs(fe,{children:[e.jsx(be,{children:"Add Transaction"}),e.jsx(je,{children:"Record a new income, expense, or transfer transaction."})]}),e.jsx(Pt,{onSuccess:P})]})}),e.jsx(ge,{open:s,onOpenChange:t,children:e.jsxs(pe,{className:"max-w-lg",children:[e.jsxs(fe,{children:[e.jsx(be,{children:"Create Financial Goal"}),e.jsx(je,{children:"Set up a new savings goal to track your progress."})]}),e.jsx(Tt,{onSuccess:I})]})}),a&&e.jsx(ge,{open:d,onOpenChange:c,children:e.jsxs(pe,{className:"max-w-lg",children:[e.jsxs(fe,{children:[e.jsx(be,{children:"Add Funds to Goal"}),e.jsxs(je,{children:['Add money to your"',a.goalTitle,'" goal.']})]}),e.jsx(Lt,{goalId:a.goalId,goalTitle:a.goalTitle,currentAmount:a.currentAmount,targetAmount:a.targetAmount,onSuccess:n})]})})]})}function ds(){const[r,o]=u.useState(!1),{toast:l}=ue(),{data:s=[],isLoading:t}=C({queryKey:["/api/notifications"],queryFn:()=>fetch("/api/notifications?includeRead=true&limit=20").then(n=>n.json()),refetchInterval:5*60*1e3}),{data:d}=C({queryKey:["/api/notifications/unread-count"],refetchInterval:2*60*1e3}),c=(d==null?void 0:d.count)||0,a=q({mutationFn:n=>L("PUT",`/api/notifications/${n}/read`),onSuccess:()=>{T.invalidateQueries({queryKey:["/api/notifications"]}),T.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),p=q({mutationFn:()=>L("PUT","/api/notifications/mark-all-read"),onSuccess:()=>{T.invalidateQueries({queryKey:["/api/notifications"]}),T.invalidateQueries({queryKey:["/api/notifications/unread-count"]}),l({title:"All caught up!",description:"Notifications marked as read",variant:"success"})}}),g=q({mutationFn:n=>L("DELETE",`/api/notifications/${n}`),onSuccess:()=>{T.invalidateQueries({queryKey:["/api/notifications"]}),T.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),h=q({mutationFn:()=>L("POST","/api/notifications/generate"),onSuccess:n=>{T.invalidateQueries({queryKey:["/api/notifications"]}),T.invalidateQueries({queryKey:["/api/notifications/unread-count"]}),n.generated>0&&l({title:`${n.generated} new insights`,description:"Fresh financial suggestions for you",variant:"info"})}});u.useEffect(()=>{const n=setTimeout(()=>{h.mutate()},3e3);return()=>clearTimeout(n)},[]);const f=n=>i=>{i.isRead||a.mutate(i.id),i.actionType&&i.actionData&&b(n)({type:i.actionType,data:i.actionData})},b=n=>i=>{var x,w,A;switch(i.type){case"add_transaction":n.openTransactionForm(i.data);break;case"create_goal":n.openGoalForm(i.data);break;case"view_goal":(x=i.data)!=null&&x.goalId&&n.navigateToGoal(i.data.goalId);break;case"view_transactions":n.navigateToTransactions((w=i.data)==null?void 0:w.category);break;case"add_funds":(A=i.data)!=null&&A.goalId&&n.openTransactionForm({type:"transfer",category:"goal_contribution",goalId:i.data.goalId});break}},N=n=>{switch(n){case"goals":return e.jsx(D,{className:"w-4 h-4"});case"transactions":return e.jsx(It,{className:"w-4 h-4"});case"budget":return e.jsx(Je,{className:"w-4 h-4"});case"achievements":return e.jsx(se,{className:"w-4 h-4"});case"suggestions":return e.jsx(Kt,{className:"w-4 h-4"});default:return e.jsx(me,{className:"w-4 h-4"})}},y=(n,i)=>{if(i==="urgent")return"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400";if(i==="high")return"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400";switch(n){case"goals":return"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400";case"transactions":return"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400";case"budget":return"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400";case"achievements":return"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400";case"suggestions":return"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}},m=n=>{const i=new Date(n),w=Math.floor((new Date().getTime()-i.getTime())/(1e3*60));if(w<1)return"Now";if(w<60)return`${w}m`;const A=Math.floor(w/60);if(A<24)return`${A}h`;const O=Math.floor(A/24);return O<7?`${O}d`:`${Math.floor(O/7)}w`},P=s.slice(0,10),I=c>0;return e.jsx(ls,{children:n=>{const i=f(n);return e.jsxs(os,{open:r,onOpenChange:o,children:[e.jsx(is,{asChild:!0,children:e.jsxs(v,{variant:"ghost",size:"icon",className:G("relative h-10 w-10 rounded-full transition-all",I&&"bg-primary/10 hover:bg-primary/20"),"data-testid":"button-notifications",children:[e.jsx(me,{className:G("w-5 h-5 transition-colors",I?"text-primary":"text-muted-foreground")}),e.jsx(ee,{children:c>0&&e.jsx(j.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-0.5 -right-0.5 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white shadow-sm","data-testid":"badge-unread-count",children:c>9?"9+":c})})]})}),e.jsxs(ut,{align:"end",className:"w-[360px] p-0 rounded-2xl shadow-xl border-border/50",sideOffset:8,"data-testid":"dropdown-notifications",children:[e.jsx("div",{className:"p-4 border-b border-border/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base",children:"Notifications"}),c>0&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[c," unread"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[c>0&&e.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>p.mutate(),disabled:p.isPending,className:"h-8 px-2 text-xs hover:bg-primary/10","data-testid":"button-mark-all-read",children:[e.jsx(ce,{className:"w-3.5 h-3.5 mr-1"}),"Mark read"]}),e.jsx(v,{variant:"ghost",size:"icon",onClick:()=>h.mutate(),disabled:h.isPending,className:"h-8 w-8 hover:bg-primary/10","data-testid":"button-generate-notifications",children:e.jsx(te,{className:G("w-4 h-4",h.isPending&&"animate-spin")})})]})]})}),e.jsx(qt,{className:"h-[380px]",children:t?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):P.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-muted/50 flex items-center justify-center mx-auto mb-3",children:e.jsx(me,{className:"w-6 h-6 text-muted-foreground/50"})}),e.jsx("p",{className:"font-medium text-sm",children:"All caught up!"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"No new notifications"})]}):e.jsx("div",{className:"p-2",children:e.jsx(ee,{mode:"popLayout",children:P.map((x,w)=>e.jsx(j.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:50},transition:{delay:w*.03},className:G("group relative p-3 rounded-xl mb-1.5 cursor-pointer transition-all","hover:bg-muted/50 active:scale-[0.99]",!x.isRead&&"bg-primary/5"),onClick:()=>i(x),"data-testid":`notification-${w}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:G("flex-shrink-0 w-9 h-9 rounded-full flex items-center justify-center",y(x.category,x.priority)),children:N(x.category)}),e.jsxs("div",{className:"flex-1 min-w-0 pr-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h4",{className:G("text-sm leading-snug line-clamp-1",x.isRead?"font-medium":"font-semibold"),children:x.title}),e.jsx("span",{className:"text-[10px] text-muted-foreground flex-shrink-0 mt-0.5",children:m(x.createdAt)})]}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-0.5 leading-relaxed",children:x.message}),x.actionType&&e.jsxs(v,{size:"sm",variant:"ghost",className:"h-7 px-2 mt-2 text-xs bg-primary/10 hover:bg-primary/20 text-primary",onClick:A=>{A.stopPropagation(),b(n)({type:x.actionType,data:x.actionData}),o(!1)},"data-testid":`button-action-${x.actionType}`,children:[x.actionType==="add_transaction"&&"Add Transaction",x.actionType==="create_goal"&&"Create Goal",x.actionType==="view_goal"&&"View Goal",x.actionType==="view_transactions"&&"View All",x.actionType==="add_funds"&&"Add Funds"]}),!x.isRead&&e.jsx("div",{className:"absolute top-3 right-3 w-2 h-2 rounded-full bg-primary"})]}),e.jsx(v,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-100 dark:hover:bg-red-900/30 hover:text-red-600",onClick:A=>{A.stopPropagation(),g.mutate(x.id)},"data-testid":`button-delete-${w}`,children:e.jsx(Ze,{className:"w-3.5 h-3.5"})})]})},x.id))})})})]})]})}})}const cs=Xe({monthlyIncome:_().min(1,"Monthly income is required"),monthlyExpenses:_().min(1,"Monthly expenses are required")}),ms=Xe({title:_().min(1,"Goal name is required"),targetAmount:_().min(1,"Target amount is required"),targetDate:_().min(1,"Target date is required"),category:_().min(1,"Category is required"),priority:_().default("medium")});function xs({onComplete:r}){const[o,l]=u.useState(1),[s,t]=u.useState(null);we();const{toast:d}=ue(),c=4,a=o/c*100,p=_e({resolver:qe(cs),defaultValues:{monthlyIncome:"",monthlyExpenses:""}}),g=_e({resolver:qe(ms),defaultValues:{title:"",targetAmount:"",targetDate:"",category:"savings",priority:"medium"}}),h=q({mutationFn:async m=>L("POST","/api/financial-estimates",{monthlyIncome:parseFloat(m.monthlyIncome),monthlyExpenses:parseFloat(m.monthlyExpenses)}),onSuccess:()=>{T.invalidateQueries({queryKey:["/api/dashboard/stats"]})}}),f=q({mutationFn:async m=>L("POST","/api/financial-goals",{title:m.title,targetAmount:m.targetAmount,currentAmount:"0",targetDate:m.targetDate,category:m.category,priority:m.priority,status:"active"}),onSuccess:()=>{T.invalidateQueries({queryKey:["/api/financial-goals"]}),T.invalidateQueries({queryKey:["/api/dashboard/stats"]})}}),b=async m=>{t(m),await h.mutateAsync(m),l(3)},N=async m=>{await f.mutateAsync(m),l(4)},y=()=>{d({title:"Welcome to Twealth!",description:"Your financial journey starts now. Let's build wealth together!"}),r()};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["Step ",o," of ",c]}),e.jsxs("span",{className:"text-sm font-medium text-primary",children:[Math.round(a),"% Complete"]})]}),e.jsx(ve,{value:a,className:"h-2"})]}),o===1&&e.jsxs(S,{className:"border-2 shadow-xl",children:[e.jsxs(oe,{className:"text-center pb-4",children:[e.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-white dark:bg-gray-900 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(te,{className:"w-8 h-8 text-white"})}),e.jsx(ie,{className:"text-3xl font-bold text-foreground",children:"Welcome to Twealth!"}),e.jsx(le,{className:"text-base mt-2",children:"Your AI-powered CFO advisor for smarter financial decisions"})]}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-blue-50 dark:bg-blue-950/20",children:[e.jsx(ae,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Track Everything"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor income, expenses, and financial goals in real-time"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-blue-50 dark:bg-blue-950/20",children:[e.jsx(ke,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"AI-Powered Insights"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get CFO-level advice on spending, saving, and investing"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-green-50 dark:bg-green-950/20",children:[e.jsx(zt,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Achieve Your Goals"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Set goals, track progress, and reach them faster"})]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(v,{onClick:()=>l(2),className:"w-full bg-primary text-primary-foreground font-semibold h-12","data-testid":"button-start-onboarding",children:["Get Started",e.jsx($,{className:"ml-2 w-5 h-5"})]})})]})]}),o===2&&e.jsxs(S,{className:"border-2 shadow-xl",children:[e.jsxs(oe,{children:[e.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-blue-600 dark:bg-blue-500 rounded-xl flex items-center justify-center",children:e.jsx(J,{className:"w-6 h-6 text-white"})}),e.jsx(ie,{className:"text-center",children:"Tell us about your finances"}),e.jsx(le,{className:"text-center",children:"This helps us provide personalized advice"})]}),e.jsx(F,{children:e.jsx(ze,{...p,children:e.jsxs("form",{onSubmit:p.handleSubmit(b),className:"space-y-6",children:[e.jsx(z,{control:p.control,name:"monthlyIncome",render:({field:m})=>e.jsxs(Q,{children:[e.jsx(V,{children:"Monthly Income"}),e.jsx(B,{children:e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(H,{...m,type:"number",placeholder:"5000",className:"pl-9 h-11","data-testid":"input-monthly-income"})]})}),e.jsx(U,{})]})}),e.jsx(z,{control:p.control,name:"monthlyExpenses",render:({field:m})=>e.jsxs(Q,{children:[e.jsx(V,{children:"Monthly Expenses"}),e.jsx(B,{children:e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(H,{...m,type:"number",placeholder:"3000",className:"pl-9 h-11","data-testid":"input-monthly-expenses"})]})}),e.jsx(U,{})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(v,{type:"button",variant:"outline",onClick:()=>l(1),className:"flex-1","data-testid":"button-back-step1",children:[e.jsx(Qe,{className:"mr-2 w-4 h-4"}),"Back"]}),e.jsxs(v,{type:"submit",disabled:h.isPending,className:"flex-1 bg-white dark:bg-gray-900","data-testid":"button-continue-step2",children:[h.isPending&&e.jsx(Le,{className:"mr-2 h-4 w-4"}),h.isPending?"Saving...":"Continue",!h.isPending&&e.jsx($,{className:"ml-2 w-4 h-4"})]})]})]})})})]}),o===3&&e.jsxs(S,{className:"border-2 shadow-xl",children:[e.jsxs(oe,{children:[e.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-blue-600 dark:bg-blue-500 rounded-xl flex items-center justify-center",children:e.jsx(D,{className:"w-6 h-6 text-white"})}),e.jsx(ie,{className:"text-center",children:"Set your first goal"}),e.jsx(le,{className:"text-center",children:"What would you like to achieve? (You can add more goals later)"})]}),e.jsx(F,{children:e.jsx(ze,{...g,children:e.jsxs("form",{onSubmit:g.handleSubmit(N),className:"space-y-4",children:[e.jsx(z,{control:g.control,name:"title",render:({field:m})=>e.jsxs(Q,{children:[e.jsx(V,{children:"Goal Name"}),e.jsx(B,{children:e.jsx(H,{...m,placeholder:"Emergency Fund",className:"h-11","data-testid":"input-goal-title"})}),e.jsx(U,{})]})}),e.jsx(z,{control:g.control,name:"targetAmount",render:({field:m})=>e.jsxs(Q,{children:[e.jsx(V,{children:"Target Amount"}),e.jsx(B,{children:e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(H,{...m,type:"number",placeholder:"10000",className:"pl-9 h-11","data-testid":"input-goal-amount"})]})}),e.jsx(U,{})]})}),e.jsx(z,{control:g.control,name:"targetDate",render:({field:m})=>e.jsxs(Q,{children:[e.jsx(V,{children:"Target Date"}),e.jsx(B,{children:e.jsx(H,{...m,type:"date",className:"h-11",min:new Date().toISOString().split("T")[0],"data-testid":"input-goal-date"})}),e.jsx(U,{})]})}),e.jsx(z,{control:g.control,name:"category",render:({field:m})=>e.jsxs(Q,{children:[e.jsx(V,{children:"Category"}),e.jsxs(Ot,{onValueChange:m.onChange,defaultValue:m.value,children:[e.jsx(B,{children:e.jsx(Rt,{className:"h-11","data-testid":"select-goal-category",children:e.jsx(Dt,{placeholder:"Select a category"})})}),e.jsxs($t,{children:[e.jsx(M,{value:"savings",children:"Savings"}),e.jsx(M,{value:"investment",children:"Investment"}),e.jsx(M,{value:"debt",children:"Debt Payoff"}),e.jsx(M,{value:"purchase",children:"Major Purchase"}),e.jsx(M,{value:"travel",children:"Travel"}),e.jsx(M,{value:"education",children:"Education"}),e.jsx(M,{value:"retirement",children:"Retirement"}),e.jsx(M,{value:"other",children:"Other"})]})]}),e.jsx(U,{})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(v,{type:"button",variant:"outline",onClick:()=>l(2),className:"flex-1","data-testid":"button-back-step2",children:[e.jsx(Qe,{className:"mr-2 w-4 h-4"}),"Back"]}),e.jsxs(v,{type:"submit",disabled:f.isPending,className:"flex-1 bg-white dark:bg-gray-900","data-testid":"button-create-goal",children:[f.isPending&&e.jsx(Le,{className:"mr-2 h-4 w-4"}),f.isPending?"Creating...":"Create Goal",!f.isPending&&e.jsx($,{className:"ml-2 w-4 h-4"})]})]})]})})})]}),o===4&&e.jsxs(S,{className:"border-2 shadow-xl",children:[e.jsxs(oe,{className:"text-center pb-4",children:[e.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-white dark:bg-gray-900 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(de,{className:"w-8 h-8 text-white"})}),e.jsx(ie,{className:"text-3xl font-bold text-foreground",children:"You're All Set!"}),e.jsx(le,{className:"text-base mt-2",children:"Your Twealth account is ready. Let's start building wealth!"})]}),e.jsxs(F,{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 rounded-lg bg-white dark:bg-gray-900",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"What's Next?"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0",children:e.jsx(de,{className:"w-3 h-3 text-white"})}),e.jsx("span",{children:"View your personalized dashboard"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0",children:e.jsx(de,{className:"w-3 h-3 text-white"})}),e.jsx("span",{children:"Chat with AI for financial advice"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0",children:e.jsx(de,{className:"w-3 h-3 text-white"})}),e.jsx("span",{children:"Track transactions and monitor progress"})]})]})]}),e.jsxs(v,{onClick:y,className:"w-full bg-primary text-primary-foreground font-semibold h-12","data-testid":"button-go-to-dashboard",children:[e.jsx(te,{className:"mr-2 w-5 h-5"}),"Go to Dashboard"]})]})]})]})})}function us(){const[r,o]=u.useState(!1),[l,s]=u.useState(!1),{data:t}=C({queryKey:["/api/dashboard/stats"]}),{data:d}=C({queryKey:["/api/financial-goals"]});return u.useEffect(()=>{const p=localStorage.getItem("onboarding_completed");s(p==="true")},[]),u.useEffect(()=>{if(l){o(!1);return}if(!t||!d)return;const p=(t==null?void 0:t.monthlyIncome)>0||(t==null?void 0:t.monthlyExpenses)>0||(t==null?void 0:t.totalSavings)>0,g=Array.isArray(d)&&d.length>0;!p&&!g&&o(!0)},[t,d,l]),{showOnboarding:r,completeOnboarding:()=>{localStorage.setItem("onboarding_completed","true"),s(!0),o(!1)},skipOnboarding:()=>{localStorage.setItem("onboarding_completed","true"),s(!0),o(!1)}}}const hs={warning:{bg:"from-orange-500/10 to-red-500/10",border:"border-orange-500/30",icon:"text-orange-500",badge:"bg-orange-500/20 text-orange-600"},opportunity:{bg:"from-green-500/10 to-emerald-500/10",border:"border-green-500/30",icon:"text-green-500",badge:"bg-green-500/20 text-green-600"},celebration:{bg:"from-purple-500/10 to-pink-500/10",border:"border-purple-500/30",icon:"text-purple-500",badge:"bg-purple-500/20 text-purple-600"},upgrade:{bg:"from-blue-500/10 to-primary/10",border:"border-primary/30",icon:"text-primary",badge:"bg-primary/20 text-primary"}};function gs(){const[,r]=we(),[o,l]=u.useState(new Set),[s,t]=u.useState(0),{formatAmount:d}=et(),{data:c}=C({queryKey:["/api/subscription"]}),{data:a}=C({queryKey:["/api/dashboard/stats"]}),{data:p}=C({queryKey:["/api/financial-goals"]}),h=(()=>{var m,P,I;const y=[];if(((m=c==null?void 0:c.plan)==null?void 0:m.name)==="free"){const n=((P=c==null?void 0:c.usage)==null?void 0:P.scoutQueriesUsed)??0,i=((I=c==null?void 0:c.plan)==null?void 0:I.scoutLimit)??50,x=n/i*100;x>=80&&y.push({id:"ai-limit-warning",type:"upgrade",title:x>=100?"AI Query Limit Reached":"Running Low on AI Queries",message:x>=100?"Upgrade to Pro for unlimited AI conversations and premium insights.":`You've used ${n}/${i} queries. Upgrade for unlimited access.`,action:{label:"Upgrade to Pro",href:"/subscription"},icon:Mt,priority:1,dismissable:!1})}if(a){const n=a.monthlyIncome??0,i=a.monthlyExpenses??0;i>n&&n>0&&y.push({id:"overspending-warning",type:"warning",title:"Spending Exceeds Income",message:`You're spending ${d(i-n)} more than you earn. Let's fix this.`,action:{label:"Review Spending",href:"/money-tracking"},icon:Je,priority:2,dismissable:!0});const x=n>0?(n-i)/n*100:0;x>=20&&x<30&&y.push({id:"savings-opportunity",type:"opportunity",title:"Great Savings Rate!",message:`You're saving ${x.toFixed(0)}% of income. A few tweaks could push you to 30%.`,action:{label:"Get AI Tips",href:"/ai-assistant"},icon:ae,priority:4,dismissable:!0})}if(Array.isArray(p)){const n=p.filter(i=>i.status==="active");n.forEach(i=>{const x=parseFloat(i.currentAmount||"0")/parseFloat(i.targetAmount)*100;if(x>=90&&x<100&&y.push({id:`goal-almost-${i.id}`,type:"celebration",title:"Almost There!",message:`"${i.title}" is ${x.toFixed(0)}% complete. One final push!`,action:{label:"View Goal",href:"/financial-goals"},icon:D,priority:3,dismissable:!0}),i.targetDate){const w=Math.ceil((new Date(i.targetDate).getTime()-Date.now())/864e5);w<=7&&w>0&&x<80&&y.push({id:`goal-deadline-${i.id}`,type:"warning",title:"Deadline Approaching",message:`"${i.title}" is due in ${w} days with ${x.toFixed(0)}% progress.`,action:{label:"Add Funds",href:"/financial-goals"},icon:me,priority:2,dismissable:!0})}}),n.length===0&&((a==null?void 0:a.monthlyIncome)??0)>0&&y.push({id:"no-goals",type:"opportunity",title:"Set Your First Goal",message:"Start your savings journey with a clear target. AI can help you plan.",action:{label:"Create Goal",href:"/financial-goals"},icon:ke,priority:5,dismissable:!0})}return y.filter(n=>!o.has(n.id)).sort((n,i)=>n.priority-i.priority)})(),f=h[s];if(u.useEffect(()=>{if(h.length>1){const y=setInterval(()=>{t(m=>(m+1)%h.length)},8e3);return()=>clearInterval(y)}},[h.length]),!f)return null;const b=hs[f.type],N=f.icon;return e.jsx(ee,{mode:"wait",children:e.jsx(j.div,{initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.3,ease:[.4,0,.2,1]},className:"w-full",children:e.jsx(S,{className:`border ${b.border} overflow-hidden`,children:e.jsxs(F,{className:`p-0 bg-gradient-to-r ${b.bg}`,children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 sm:p-4",children:[e.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:15},className:`p-2 rounded-lg bg-background/80 ${b.icon}`,children:e.jsx(N,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[e.jsx("h4",{className:"font-semibold text-sm",children:f.title}),h.length>1&&e.jsxs(xe,{variant:"outline",className:"text-[10px] px-1.5",children:[s+1,"/",h.length]})]}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:f.message})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[f.action&&e.jsxs(v,{size:"sm",onClick:()=>r(f.action.href),className:"hidden sm:flex h-8 text-xs","data-testid":`nudge-action-${f.id}`,children:[f.action.label,e.jsx($,{className:"w-3 h-3 ml-1"})]}),f.dismissable&&e.jsx(v,{variant:"ghost",size:"icon",onClick:()=>l(y=>{const m=new Set(Array.from(y));return m.add(f.id),m}),className:"h-8 w-8 text-muted-foreground hover:text-foreground","data-testid":`nudge-dismiss-${f.id}`,children:e.jsx(Ze,{className:"w-4 h-4"})})]})]}),h.length>1&&e.jsx("div",{className:"flex gap-1 px-4 pb-2",children:h.map((y,m)=>e.jsx(j.button,{onClick:()=>t(m),className:`h-1 rounded-full transition-all ${m===s?"w-6 bg-foreground/60":"w-2 bg-foreground/20 hover:bg-foreground/40"}`,whileHover:{scale:1.2},whileTap:{scale:.9}},m))})]})})},f.id)})}const Ve={flame:tt,trophy:se,star:Ne,zap:Ae,target:D,trending:ae,award:Ce};function ps(){const o={origin:{y:.7},zIndex:9999};function l(s,t){Qt({...o,...t,particleCount:Math.floor(100*s)})}l(.25,{spread:26,startVelocity:55,colors:["#ff6b35","#f7c59f"]}),l(.2,{spread:60,colors:["#ffd700","#ff6b35"]}),l(.35,{spread:100,decay:.91,scalar:.8,colors:["#ff6b35","#ffd700","#f7c59f"]}),l(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2,colors:["#ffd700"]}),l(.1,{spread:120,startVelocity:45,colors:["#ff6b35"]})}function fs(){const[r,o]=u.useState(!1),{toast:l}=ue(),{data:s,isLoading:t}=C({queryKey:["/api/streaks"],staleTime:1e3*60*5}),d=q({mutationFn:async()=>await L("POST","/api/streaks/check-in",{}),onSuccess:g=>{T.invalidateQueries({queryKey:["/api/streaks"]}),g.streakIncreased&&(o(!0),ps(),setTimeout(()=>o(!1),3e3)),l({title:g.streakIncreased?"Streak increased!":"Already checked in today",description:g.streakIncreased?`You're on a ${g.newStreak}-day streak!`:"Come back tomorrow to keep your streak going."})}}),c=()=>{if(!(s!=null&&s.lastCheckIn))return!0;const g=new Date(s.lastCheckIn),h=new Date;return g.toDateString()!==h.toDateString()};if(t)return e.jsx(S,{className:"border-border/40",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"animate-pulse space-y-3",children:[e.jsx("div",{className:"h-6 bg-muted rounded w-24"}),e.jsx("div",{className:"h-10 bg-muted rounded w-16"})]})})});const a=(s==null?void 0:s.currentStreak)??0,p=(s==null?void 0:s.weeklyProgress)??[!1,!1,!1,!1,!1,!1,!1];return e.jsxs(S,{className:"border-border/40 hover:border-border/60 transition-colors overflow-hidden relative",children:[e.jsx(ee,{children:r&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-gradient-to-br from-orange-500/20 to-yellow-500/20 z-10 pointer-events-none"})}),e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j.div,{animate:a>0?{scale:[1,1.1,1],rotate:[0,-5,5,0]}:{},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:`p-2 rounded-lg ${a>0?"bg-gradient-to-br from-orange-500 to-yellow-500":"bg-muted"}`,children:e.jsx(tt,{className:`w-5 h-5 ${a>0?"text-white":"text-muted-foreground"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Daily Streak"}),e.jsxs(j.p,{initial:{scale:1.5,opacity:0},animate:{scale:1,opacity:1},className:"text-2xl font-bold",children:[a,e.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-1",children:"days"})]},a)]})]}),e.jsx(v,{size:"sm",onClick:()=>d.mutate(),disabled:!c()||d.isPending,className:c()?"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white shadow-lg shadow-orange-500/25":"","data-testid":"button-check-in",children:d.isPending?e.jsx(j.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(Ae,{className:"w-4 h-4"})}):c()?e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),"Check In"]}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),"Done"]})})]}),e.jsx("div",{className:"flex items-center gap-1 mt-3",children:["S","M","T","W","T","F","S"].map((g,h)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground",children:g}),e.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{delay:h*.05},className:`w-6 h-6 rounded-full flex items-center justify-center ${p[h]?"bg-gradient-to-br from-orange-500 to-yellow-500":"bg-muted"}`,children:p[h]&&e.jsx(ce,{className:"w-3 h-3 text-white"})})]},h))}),a>=7&&e.jsx(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-3 pt-3 border-t border-border/40",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4 text-yellow-500"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Best: ",(s==null?void 0:s.longestStreak)??a," days"]})]})})]})]})}function bs(){const{data:r}=C({queryKey:["/api/streaks"]}),o=(r==null?void 0:r.achievements)??[],l=o.filter(t=>t.earnedAt),s=o.filter(t=>!t.earnedAt&&t.progress>0);return o.length===0?null:e.jsx(S,{className:"border-border/40",children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ce,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"font-semibold",children:"Achievements"}),e.jsxs(xe,{variant:"secondary",className:"ml-auto",children:[l.length,"/",o.length]})]}),e.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-3",children:o.slice(0,6).map((t,d)=>{const c=Ve[t.icon]||se,a=!!t.earnedAt;return e.jsxs(j.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:d*.05},className:"relative group",children:[e.jsx("div",{className:`aspect-square rounded-xl flex items-center justify-center transition-all ${a?"bg-gradient-to-br from-primary to-primary/80 shadow-lg shadow-primary/25":"bg-muted/50 grayscale"}`,children:e.jsx(c,{className:`w-6 h-6 ${a?"text-primary-foreground":"text-muted-foreground"}`})}),!a&&t.progress>0&&e.jsx("div",{className:"absolute -bottom-1 left-1 right-1",children:e.jsx(ve,{value:t.progress/t.target*100,className:"h-1"})}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 rounded-xl"}),e.jsx("p",{className:"relative text-[10px] text-white text-center px-1 font-medium",children:t.title})]})]},t.id)})}),s.length>0&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-border/40",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Next achievement"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-muted",children:(()=>{const t=s[0],d=Ve[t.icon]||se;return e.jsx(d,{className:"w-4 h-4 text-muted-foreground"})})()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:s[0].title}),e.jsx(ve,{value:s[0].progress/s[0].target*100,className:"h-1.5 mt-1"})]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[s[0].progress,"/",s[0].target]})]})]})]})})}function Z({value:r,suffix:o="",prefix:l="",decimals:s=0}){const[t,d]=u.useState(0);return u.useEffect(()=>{const a=Date.now(),p=t,g=()=>{const h=Date.now(),f=Math.min((h-a)/1e3,1),b=1-Math.pow(1-f,4),N=p+(r-p)*b;d(N),f<1&&requestAnimationFrame(g)};requestAnimationFrame(g)},[r]),e.jsxs("span",{children:[l,s>0?t.toFixed(s):Math.round(t).toLocaleString(),o]})}function js(){const r=new Date().getHours();return r<12?"Good morning":r<17?"Good afternoon":"Good evening"}function ys(r,o){return r>=80?"Outstanding financial discipline. Keep it up!":r>=60?"You're making solid progress toward your goals.":o>15?"Great savings rate! Consider investing the surplus.":"Small steps lead to big changes. Start with one goal."}function Vs(){var Oe,Re,De,$e,Me,Ee,Ge;const{t:r}=Et(),{showOnboarding:o,completeOnboarding:l}=us(),{formatAmount:s,currencySymbol:t}=et();Gt();const{data:d,isLoading:c}=C({queryKey:["/api/dashboard/stats"]}),{data:a,isLoading:p}=C({queryKey:["/api/financial-health"]}),{data:g,isLoading:h}=C({queryKey:["/api/financial-goals"]}),{data:f}=C({queryKey:["/api/user-preferences"]}),{data:b}=C({queryKey:["/api/subscription"]}),N=(a==null?void 0:a.overall)??0,y=(a==null?void 0:a.grade)??"Building",m=((Re=(Oe=a==null?void 0:a.breakdown)==null?void 0:Oe.savingsRate)==null?void 0:Re.value)??0,P=(($e=(De=a==null?void 0:a.breakdown)==null?void 0:De.emergencyFund)==null?void 0:$e.months)??0,I=Array.isArray(g)?g.filter(k=>k.status==="active"):[],n=I.length>0?I[0]:null,i=n?Math.min(100,parseFloat(n.currentAmount||"0")/parseFloat(String(n.targetAmount))*100):0,x=((Me=b==null?void 0:b.plan)==null?void 0:Me.name)??"Free",w=((Ee=b==null?void 0:b.usage)==null?void 0:Ee.scoutQueriesUsed)??0,A=((Ge=b==null?void 0:b.plan)==null?void 0:Ge.scoutLimit)??50,O=A-w,Pe=(d==null?void 0:d.monthlyIncome)??0,ht=(d==null?void 0:d.monthlyExpenses)??0,Te=Pe-ht,he=Pe-parseFloat(String((f==null?void 0:f.monthlyExpensesEstimate)??"0")),ne=Te>=0;if(o)return e.jsx(xs,{onComplete:l});const Ie=u.useMemo(()=>{const k=[];if(P<3&&k.push({icon:Ne,title:"Build Emergency Fund",description:`${P.toFixed(1)} months saved. Target: 3-6 months.`,action:"Create Goal",href:"/financial-goals",priority:"high"}),m<20&&he>0&&k.push({icon:ae,title:"Increase Savings Rate",description:`Currently ${m.toFixed(0)}%. Potential: ${s(he)}/mo.`,action:"Optimize",href:"/money-tracking",priority:"medium"}),n&&i<50&&n.targetDate){const K=Math.ceil((new Date(n.targetDate).getTime()-Date.now())/864e5);K>0&&k.push({icon:D,title:`Accelerate "${n.title}"`,description:`${K} days left. ${i.toFixed(0)}% complete.`,action:"Review",href:"/financial-goals",priority:"medium"})}return O>10&&k.push({icon:Ke,title:"Get AI Advice",description:`${O} queries available. Ask anything!`,action:"Chat",href:"/ai-assistant",priority:"low"}),k.slice(0,3)},[P,m,he,n,i,O,s]),W=(k=>k>=75?{text:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-500",light:"bg-emerald-50 dark:bg-emerald-950/30",border:"border-emerald-200 dark:border-emerald-800"}:k>=60?{text:"text-blue-600 dark:text-blue-400",bg:"bg-blue-500",light:"bg-blue-50 dark:bg-blue-950/30",border:"border-blue-200 dark:border-blue-800"}:k>=40?{text:"text-amber-600 dark:text-amber-400",bg:"bg-amber-500",light:"bg-amber-50 dark:bg-amber-950/30",border:"border-amber-200 dark:border-amber-800"}:{text:"text-red-600 dark:text-red-400",bg:"bg-red-500",light:"bg-red-50 dark:bg-red-950/30",border:"border-red-200 dark:border-red-800"})(N);return e.jsxs("div",{className:"min-h-screen-mobile bg-gradient-to-b from-background to-muted/20 pb-20 md:pb-0",children:[e.jsx("header",{className:"bg-background/80 backdrop-blur-xl border-b border-border/40 sticky top-0 z-30",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-3 sm:py-4 lg:py-6",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs(j.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl xl:text-3xl font-semibold tracking-tight text-foreground truncate",children:js()}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5 sm:mt-1 line-clamp-1 sm:line-clamp-none",children:ys(N,m)})]})}),e.jsx("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:e.jsx(ds,{})})]})})}),e.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-10 space-y-4 sm:space-y-6 lg:space-y-10",children:[e.jsx(gs,{}),e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:e.jsx(S,{className:"border-0 shadow-lg sm:shadow-xl bg-gradient-to-br from-white to-gray-50/50 dark:from-gray-900 dark:to-gray-900/50 overflow-hidden",children:e.jsx(F,{className:"p-0",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-0",children:[e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 xl:p-10",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3 sm:mb-4",children:[e.jsx(xe,{className:`${W.light} ${W.text} ${W.border} border text-xs font-medium px-2 sm:px-3 py-0.5 sm:py-1`,children:y}),e.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"AI-Powered Analysis"})]}),e.jsx("h2",{className:"text-xs sm:text-sm lg:text-base font-medium text-muted-foreground mb-2 sm:mb-3",children:"Financial Health Score"}),p?e.jsx(_t,{className:"h-16 sm:h-20 lg:h-24 w-32 sm:w-40"}):e.jsxs("div",{className:"flex items-end gap-2 sm:gap-3 mb-3 sm:mb-4",children:[e.jsx("span",{className:`text-5xl sm:text-6xl lg:text-7xl xl:text-8xl font-bold tracking-tighter ${W.text}`,"data-testid":"hero-health-score",children:e.jsx(Z,{value:N})}),e.jsx("span",{className:"text-xl sm:text-2xl lg:text-3xl font-semibold text-muted-foreground/30 mb-1 sm:mb-2",children:"/100"})]}),e.jsx("div",{className:"h-1.5 sm:h-2 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden mb-3 sm:mb-4",children:e.jsx(j.div,{className:`h-full ${W.bg} rounded-full`,initial:{width:0},animate:{width:`${N}%`},transition:{duration:1,delay:.3,ease:"easeOut"}})}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2 sm:line-clamp-none",children:"Based on savings rate, emergency fund, debt ratio, and goal progress"})]}),e.jsxs("div",{className:"bg-gray-50/50 dark:bg-gray-800/30 p-4 sm:p-6 lg:p-8 xl:p-10 border-t lg:border-t-0 lg:border-l border-border/30",children:[e.jsx("h3",{className:"text-xs sm:text-sm font-medium text-muted-foreground mb-4 sm:mb-6",children:"Key Metrics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs(j.div,{className:"space-y-0.5 sm:space-y-1",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3,delay:.4},"data-testid":"metric-savings-rate",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"p-1 sm:p-1.5 rounded-md bg-emerald-100 dark:bg-emerald-900/30",children:e.jsx(ke,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-emerald-600 dark:text-emerald-400"})}),e.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Savings Rate"})]}),e.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:e.jsx(Z,{value:m,suffix:"%",decimals:1})})]}),e.jsxs(j.div,{className:"space-y-0.5 sm:space-y-1",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3,delay:.5},"data-testid":"metric-emergency-fund",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"p-1 sm:p-1.5 rounded-md bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Ne,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Emergency Fund"})]}),e.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:e.jsx(Z,{value:P,suffix:" mo",decimals:1})})]}),e.jsxs(j.div,{className:"space-y-0.5 sm:space-y-1",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3,delay:.6},"data-testid":"metric-cash-flow",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:`p-1 sm:p-1.5 rounded-md ${ne?"bg-emerald-100 dark:bg-emerald-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:ne?e.jsx(Vt,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-emerald-600 dark:text-emerald-400"}):e.jsx(Bt,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-red-600 dark:text-red-400"})}),e.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Monthly Flow"})]}),e.jsxs("div",{className:`text-xl sm:text-2xl lg:text-3xl font-bold ${ne?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[ne?"+":"",e.jsx(Z,{value:Te,prefix:t})]})]}),e.jsxs(j.div,{className:"space-y-0.5 sm:space-y-1",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3,delay:.7},"data-testid":"metric-goals",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"p-1 sm:p-1.5 rounded-md bg-purple-100 dark:bg-purple-900/30",children:e.jsx(D,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-purple-600 dark:text-purple-400"})}),e.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Active Goals"})]}),e.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground",children:e.jsx(Z,{value:I.length})})]})]})]})]})})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:e.jsx(S,{className:"h-full border-border/40 hover:border-border/60 transition-colors",children:e.jsxs(F,{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"p-2 sm:p-2.5 rounded-xl bg-gradient-to-br from-primary to-primary/80 shadow-lg shadow-primary/20",children:e.jsx(te,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-foreground",children:"AI Insights"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Personalized recommendations"})]})]}),e.jsx("div",{className:"space-y-2 sm:space-y-3",children:e.jsx(ee,{children:Ie.length>0?Ie.map((k,K)=>e.jsx(j.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2,delay:K*.1},children:e.jsx(R,{href:k.href,children:e.jsx("button",{className:"w-full text-left p-3 sm:p-4 rounded-xl border border-border/40 hover:border-primary/30 hover:bg-primary/5 transition-all group min-h-[56px] touch-target","data-testid":`ai-step-${K}`,children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg flex-shrink-0 ${k.priority==="high"?"bg-orange-100 dark:bg-orange-900/30":k.priority==="medium"?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-gray-800"}`,children:e.jsx(k.icon,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${k.priority==="high"?"text-orange-600 dark:text-orange-400":k.priority==="medium"?"text-blue-600 dark:text-blue-400":"text-muted-foreground"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-0.5 sm:mb-1",children:[e.jsx("span",{className:"font-medium text-xs sm:text-sm text-foreground truncate",children:k.title}),e.jsx(ye,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-muted-foreground group-hover:translate-x-1 group-hover:text-primary transition-all flex-shrink-0"})]}),e.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground leading-relaxed line-clamp-2",children:k.description})]})]})})})},K)):e.jsxs(j.div,{className:"text-center py-6 sm:py-8",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center mx-auto mb-2 sm:mb-3",children:e.jsx(Ce,{className:"w-5 h-5 sm:w-6 sm:h-6 text-emerald-600 dark:text-emerald-400"})}),e.jsx("p",{className:"text-xs sm:text-sm font-medium text-foreground",children:"Excellent work!"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-1",children:"No urgent actions needed"})]})})}),e.jsx(R,{href:"/ai-assistant",children:e.jsxs(v,{className:"w-full mt-4 sm:mt-6 group min-h-[44px]","data-testid":"button-view-ai-insights",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Ask AI Anything"}),e.jsx($,{className:"w-4 h-4 ml-auto group-hover:translate-x-1 transition-transform"})]})})]})})}),e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:e.jsx(S,{className:"h-full border-border/40 hover:border-border/60 transition-colors",children:e.jsxs(F,{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"p-2 sm:p-2.5 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg shadow-blue-500/20",children:e.jsx(D,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-foreground",children:"Next Goal"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Track your progress"})]})]}),n?e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm sm:text-base text-foreground mb-1 truncate",children:n.title}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-foreground",children:s(parseFloat(n.currentAmount||"0"))}),e.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:["/ ",s(parseFloat(String(n.targetAmount)))]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-[10px] sm:text-xs text-muted-foreground mb-1.5 sm:mb-2",children:[e.jsxs("span",{className:"font-medium",children:[i.toFixed(0),"% complete"]}),n.targetDate&&e.jsx("span",{children:new Date(n.targetDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),e.jsx("div",{className:"h-2.5 sm:h-3 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx(j.div,{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full",initial:{width:0},animate:{width:`${Math.min(100,i)}%`},transition:{duration:.8,delay:.4,ease:"easeOut"}})})]}),n.targetDate&&e.jsxs("div",{className:"p-3 sm:p-4 rounded-xl bg-blue-50 dark:bg-blue-950/30 border border-blue-100 dark:border-blue-900/50",children:[e.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mb-0.5 sm:mb-1",children:"Monthly contribution needed"}),e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-foreground",children:[s(Math.max(0,(parseFloat(String(n.targetAmount))-parseFloat(n.currentAmount||"0"))/Math.max(1,Math.ceil((new Date(n.targetDate).getTime()-Date.now())/(1e3*60*60*24*30))))),e.jsx("span",{className:"text-xs sm:text-sm font-normal text-muted-foreground",children:"/month"})]})]}),e.jsx(R,{href:"/financial-goals",children:e.jsxs(v,{variant:"outline",className:"w-full group min-h-[44px]","data-testid":"button-manage-goals",children:[e.jsx("span",{className:"text-sm",children:"Manage Goals"}),e.jsx($,{className:"w-4 h-4 ml-auto group-hover:translate-x-1 transition-transform"})]})})]}):e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-3 sm:mb-4",children:e.jsx(D,{className:"w-5 h-5 sm:w-6 sm:h-6 text-muted-foreground"})}),e.jsx("p",{className:"text-xs sm:text-sm font-medium text-foreground mb-1",children:"No active goals"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mb-4 sm:mb-6",children:"Set a target to start tracking"}),e.jsx(R,{href:"/financial-goals?create=1",children:e.jsxs(v,{className:"w-full min-h-[44px]","data-testid":"button-create-first-goal",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"Create First Goal"})]})})]})]})})}),e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},className:"md:col-span-2 lg:col-span-1",children:e.jsx(S,{className:"h-full border-border/40 hover:border-border/60 transition-colors",children:e.jsxs(F,{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"p-2 sm:p-2.5 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 shadow-lg shadow-violet-500/20",children:e.jsx(Ae,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-foreground",children:"Quick Actions"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Common tasks"})]})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsx(R,{href:"/money-tracking?add=1",children:e.jsxs(v,{variant:"outline",className:"w-full justify-start h-11 sm:h-12 group touch-target","data-testid":"button-add-transaction",children:[e.jsx("div",{className:"p-1 sm:p-1.5 rounded-md bg-emerald-100 dark:bg-emerald-900/30 mr-2 sm:mr-3",children:e.jsx(J,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-emerald-600 dark:text-emerald-400"})}),e.jsx("span",{className:"text-sm",children:"Add Transaction"}),e.jsx(ye,{className:"w-4 h-4 ml-auto group-hover:translate-x-1 transition-transform"})]})}),e.jsx(R,{href:"/money-tracking",children:e.jsxs(v,{variant:"outline",className:"w-full justify-start h-11 sm:h-12 group touch-target","data-testid":"button-view-spending",children:[e.jsx("div",{className:"p-1 sm:p-1.5 rounded-md bg-blue-100 dark:bg-blue-900/30 mr-2 sm:mr-3",children:e.jsx(ae,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-sm",children:"View Spending"}),e.jsx(ye,{className:"w-4 h-4 ml-auto group-hover:translate-x-1 transition-transform"})]})}),e.jsx(R,{href:"/subscription",children:e.jsxs(v,{variant:"outline",className:"w-full justify-start h-11 sm:h-12 group touch-target","data-testid":"button-upgrade-plan",children:[e.jsx("div",{className:"p-1 sm:p-1.5 rounded-md bg-violet-100 dark:bg-violet-900/30 mr-2 sm:mr-3",children:e.jsx(te,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-violet-600 dark:text-violet-400"})}),e.jsx("span",{className:"text-sm",children:"AI Plan"}),e.jsx(xe,{variant:"secondary",className:"ml-auto text-[10px] sm:text-xs",children:x})]})})]}),e.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-border/40",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium text-foreground",children:"AI Queries"}),e.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[O," remaining"]})]}),e.jsx("div",{className:"h-1.5 sm:h-2 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx(j.div,{className:"h-full bg-gradient-to-r from-violet-500 to-purple-600 rounded-full",initial:{width:0},animate:{width:`${Math.max(0,O/A*100)}%`},transition:{duration:.6,delay:.5,ease:"easeOut"}})}),e.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-1.5 sm:mt-2",children:[w," of ",A," used this month"]})]})]})})})]}),e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:e.jsx(S,{className:"border-border/40 bg-gradient-to-r from-gray-50 to-gray-100/50 dark:from-gray-900/50 dark:to-gray-800/30",children:e.jsx(F,{className:"p-4 sm:p-6 lg:p-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"w-full sm:w-auto",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-0.5 sm:mb-1",children:"Explore More"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Access detailed analytics and advanced features"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3 w-full sm:w-auto",children:[e.jsx(R,{href:"/money-tracking",className:"flex-1 sm:flex-none",children:e.jsxs(v,{variant:"outline",size:"sm",className:"w-full sm:w-auto group min-h-[40px] touch-target","data-testid":"button-view-transactions",children:[e.jsx("span",{className:"text-xs sm:text-sm",children:"Transactions"}),e.jsx($,{className:"w-3.5 h-3.5 ml-1.5 sm:ml-2 group-hover:translate-x-1 transition-transform"})]})}),e.jsx(R,{href:"/financial-goals",className:"flex-1 sm:flex-none",children:e.jsxs(v,{variant:"outline",size:"sm",className:"w-full sm:w-auto group min-h-[40px] touch-target","data-testid":"button-all-goals",children:[e.jsx("span",{className:"text-xs sm:text-sm",children:"All Goals"}),e.jsx($,{className:"w-3.5 h-3.5 ml-1.5 sm:ml-2 group-hover:translate-x-1 transition-transform"})]})}),e.jsx(R,{href:"/groups",className:"flex-1 sm:flex-none",children:e.jsxs(v,{variant:"outline",size:"sm",className:"w-full sm:w-auto group min-h-[40px] touch-target","data-testid":"button-groups",children:[e.jsx("span",{className:"text-xs sm:text-sm",children:"Groups"}),e.jsx($,{className:"w-3.5 h-3.5 ml-1.5 sm:ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.55},children:e.jsx(fs,{})}),e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:e.jsx(bs,{})})]})]})]})}export{Vs as default};
