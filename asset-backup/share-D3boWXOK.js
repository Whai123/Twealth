import{p as y,r as l,j as e,_ as C,O as c,Q as d,S as o,U as b,V as x,H as a,K as v}from"./index-NNgTI0RQ.js";import{S as k}from"./share-2-BhmftWRX.js";import{M as S}from"./message-square-T3TIwvoE.js";import{A as h}from"./arrow-right-l9D0Ocf3.js";function P(){const[,r]=y(),[s,m]=l.useState({}),[u,j]=l.useState(!0);l.useEffect(()=>{const t=new URLSearchParams(window.location.search),g=t.get("title")||"",N=t.get("text")||"",w=t.get("url")||"";m({title:g,text:N,url:w}),j(!1)},[]);const p=()=>{const t=[s.title,s.text,s.url].filter(Boolean).join(" - ");r(`/ai-assistant?query=${encodeURIComponent(t)}`)},f=()=>{r("/financial-goals")},i=()=>{r("/")};if(u)return e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]","data-testid":"share-loading",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(C,{className:"h-8 w-8 animate-spin text-primary"}),e.jsx("p",{className:"text-muted-foreground",children:"Processing shared content..."})]})});const n=s.title||s.text||s.url;return e.jsxs("div",{className:"container max-w-2xl mx-auto p-4 space-y-6","data-testid":"share-page",children:[e.jsxs(c,{children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(k,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx(o,{children:"Shared Content"}),e.jsx(b,{children:"You shared something with Twealth"})]})]})}),e.jsx(x,{className:"space-y-4",children:n?e.jsxs(e.Fragment,{children:[s.title&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Title"}),e.jsx("p",{className:"text-foreground","data-testid":"text-shared-title",children:s.title})]}),s.text&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Content"}),e.jsx("p",{className:"text-foreground","data-testid":"text-shared-text",children:s.text})]}),s.url&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"URL"}),e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-all","data-testid":"link-shared-url",children:s.url})]})]}):e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No content was shared. Try sharing something from another app!"})})]}),n&&e.jsxs(c,{children:[e.jsx(d,{children:e.jsx(o,{className:"text-lg",children:"What would you like to do?"})}),e.jsxs(x,{className:"space-y-3",children:[e.jsxs(a,{onClick:p,className:"w-full justify-between",variant:"outline","data-testid":"button-ask-ai",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),"Ask AI about this"]}),e.jsx(h,{className:"h-4 w-4"})]}),e.jsxs(a,{onClick:f,className:"w-full justify-between",variant:"outline","data-testid":"button-add-goal",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),"Create a financial goal"]}),e.jsx(h,{className:"h-4 w-4"})]}),e.jsx(a,{onClick:i,className:"w-full","data-testid":"button-go-dashboard",children:"Go to Dashboard"})]})]}),!n&&e.jsx("div",{className:"flex justify-center",children:e.jsx(a,{onClick:i,"data-testid":"button-back-home",children:"Back to Home"})})]})}export{P as default};
