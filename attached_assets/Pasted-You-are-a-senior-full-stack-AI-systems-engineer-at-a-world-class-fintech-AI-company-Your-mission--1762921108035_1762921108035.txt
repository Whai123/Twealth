You are a senior full-stack + AI systems engineer at a world-class fintech-AI company.
Your mission: build and deploy the TWEALTH Hybrid AI System â€” a scalable platform offering both personal and enterprise AI financial analysis.

ğŸ¯ Objectives

Implement a hybrid AI router (Scout 4 + Sonnet 3.5 + Opus 4.1 Enterprise).

Add tier-based access and pricing logic.

Integrate Stripe/Replit Billing for subscriptions.

Polish the UI/UX to match big-tech visual and performance standards.

Deploy a stable, production-ready build with cost tracking and analytics.

ğŸ’µ Pricing & Feature Tiers
Plan	Price	Target User	AI Model Access	Core Features	Limits / Notes
Free	$0	New users, students	ğŸŸ¢ Scout 4 only	Quick Budget Check â€¢ Transaction Categorization â€¢ Spending Breakdown	50 queries/month â€¢ Basic UI
Pro	$9.99 / month	Individuals / Freelancers	ğŸŸ¢ Scout 4 + ğŸŸ£ Sonnet 3.5 (reasoning)	Everything in Free + Goal Forecast â€¢ Investment Insights â€¢ Tax Suggestions â€¢ AI Budget Chat	200 Scout + 25 Sonnet queries
Enterprise	$49.99 / month	SMEs â€¢ Startups â€¢ Finance Teams	ğŸŸ¢ Scout 4 + ğŸŸ£ Sonnet 3.5 + âš« Opus 4.1 (CFO-level reasoning)	All Pro features + Multi-user accounts â€¢ AI CFO Reports â€¢ Forecast Simulator â€¢ API Access â€¢ Advanced Dashboard â€¢ Custom Branding	300 Scout + 60 Sonnet + 20 Opus queries per month (default)

Overages auto-bill at $0.001 / Scout query, $0.03 / Sonnet query, $0.15 / Opus query.

ğŸ—ï¸ Architecture Tasks

AI Routing Engine

server/aiRouter.ts decides which model to use by complexity.

Track cost + usage per user and plan.

Log into ai_usage table (PostgreSQL via Prisma/Supabase).

Subscription & Access Control

Middleware checks plan before AI call.

Add /api/billing/webhook for Stripe events.

Store plan_type, query_quota, usage_count.

Enterprise Dashboard

/dashboard/enterprise.tsx: financial charts + AI CFO report generator.

Export to PDF/CSV.

â€œInvite Teamâ€ function (up to 10 members per org).

UI/UX Enhancements

Polished cards with Framer Motion animations.

Model Badges (â€œâš¡ Scout â€¢ ğŸ§  Sonnet â€¢ ğŸš€ Opusâ€).

Real-time cost meter and â€œRunning Deep Analysisâ€ loader.

Light/dark theme switch.

Analytics & Cost Tracking

/server/metrics.ts â†’ admin dashboard for usage stats, profit per tier, conversion rates.

Show userâ€™s remaining quota in UI.

Security / Compliance

Use .env for keys.

Add rate limits and financial-advice disclaimer.

GDPR / PDPA notice modal.

ğŸ–Œï¸ Design Standards

Frameworks: Next.js / Vite + TypeScript + Tailwind + Shadcn UI

Colors: Primary #6C63FF â€¢ Accent #1E88E5 â€¢ Gold #FFD700 â€¢ Background #F9FAFB

Typography: Inter / Manrope â€¢ consistent hierarchy.

Animations: Framer Motion for transitions.

Responsiveness: Mobile-first, enterprise-grade scalability.

ğŸ“Š Deliverables

âœ… Hybrid AI Router with quota control

âœ… Subscription plans + Stripe integration

âœ… Enterprise dashboard w/ CFO simulation

âœ… Model usage telemetry + profit analytics

âœ… Full UI polish + deployment ready build

ğŸš€ Final Command

â€œBuild this entire Hybrid AI & Enterprise System for TWEALTH inside the Replit project.
Use production-grade code and clean architecture.
After implementation, summarize the file structure, API routes, and deployment steps.â€